{"version":3,"file":"ng-simple-maps.mjs","sources":["../../../projects/ng-simple-maps/src/lib/utils/d3-projections.ts","../../../projects/ng-simple-maps/src/lib/utils/geo-calculations.ts","../../../projects/ng-simple-maps/src/lib/utils/continent-filter.utils.ts","../../../projects/ng-simple-maps/src/lib/utils/marker-renderer.util.ts","../../../projects/ng-simple-maps/src/lib/utils/path-helper.util.ts","../../../projects/ng-simple-maps/src/lib/services/projection.service.ts","../../../projects/ng-simple-maps/src/lib/services/geography-loader.service.ts","../../../projects/ng-simple-maps/src/lib/components/map/map.component.ts","../../../projects/ng-simple-maps/src/lib/components/map/map.component.html","../../../projects/ng-simple-maps/src/lib/tokens/map-context.token.ts","../../../projects/ng-simple-maps/src/lib/components/composable-map/composable-map.component.ts","../../../projects/ng-simple-maps/src/lib/components/tooltip/tooltip.component.ts","../../../projects/ng-simple-maps/src/lib/components/zoomable-group/zoomable-group.component.ts","../../../projects/ng-simple-maps/src/lib/components/zoom-controls/zoom-controls.component.ts","../../../projects/ng-simple-maps/src/lib/directives/geographies.directive.ts","../../../projects/ng-simple-maps/src/lib/directives/annotation.directive.ts","../../../projects/ng-simple-maps/src/lib/directives/marker.directive.ts","../../../projects/ng-simple-maps/src/public-api.ts","../../../projects/ng-simple-maps/src/ng-simple-maps.ts"],"sourcesContent":["import {\n  geoEqualEarth,\n  geoAlbers,\n  geoAlbersUsa,\n  geoAzimuthalEqualArea,\n  geoAzimuthalEquidistant,\n  geoConicConformal,\n  geoConicEqualArea,\n  geoConicEquidistant,\n  geoEquirectangular,\n  geoGnomonic,\n  geoMercator,\n  geoNaturalEarth1,\n  geoOrthographic,\n  geoStereographic,\n  geoTransverseMercator,\n} from 'd3-geo';\nimport { ProjectionType, ProjectionFactory } from '../models';\n\n// All the different map projections we support\n// Each one transforms the globe into a flat map differently\nexport const projectionMap: Record<ProjectionType, ProjectionFactory> = {\n  geoEqualEarth,\n  geoAlbers,\n  geoAlbersUsa,\n  geoAzimuthalEqualArea,\n  geoAzimuthalEquidistant,\n  geoConicConformal,\n  geoConicEqualArea,\n  geoConicEquidistant,\n  geoEquirectangular,\n  geoGnomonic,\n  geoMercator,\n  geoNaturalEarth1,\n  geoOrthographic,\n  geoStereographic,\n  geoTransverseMercator,\n};\n\n// Get the right projection function based on the name you want\nexport function getProjectionFactory(type: ProjectionType): ProjectionFactory {\n  const factory = projectionMap[type];\n  if (!factory) {\n    console.warn(`Unknown projection type: ${type}. Falling back to geoEqualEarth.`);\n    return geoEqualEarth;\n  }\n  return factory;\n}\n","import { GeoProjection } from 'd3-geo';\nimport { Coordinates } from '../models';\nimport { GeographyObject } from '../models';\nimport { Feature } from 'geojson';\n\n// Create a unique ID for each country/region so Angular can track them\n// Tries to use the country's ID or name, falls back to a generic ID\nexport function generateRsmKey(feature: Feature, index: number): string {\n  if (feature.id !== undefined && feature.id !== null) {\n    return String(feature.id);\n  }\n\n  if (feature.properties) {\n    if (feature.properties['name']) {\n      return String(feature.properties['name']);\n    }\n    if (feature.properties['NAME']) {\n      return String(feature.properties['NAME']);\n    }\n  }\n\n  return `geography-${index}`;\n}\n\n// Convert latitude/longitude to pixel coordinates on the screen\nexport function projectCoordinates(\n  coordinates: Coordinates,\n  projection: GeoProjection\n): [number, number] | null {\n  return projection(coordinates);\n}\n\n// Add unique IDs to all the map features so we can track them properly\nexport function addKeysToGeographies(features: Feature[]): GeographyObject[] {\n  return features.map((feature, index) => ({\n    ...feature,\n    rsmKey: generateRsmKey(feature, index),\n  } as GeographyObject));\n}\n","import { GeographyObject } from '../models';\n\n// All the continents we support\nexport type Continent = 'Africa' | 'Asia' | 'Europe' | 'North America' | 'South America' | 'Oceania' | 'Antarctica';\n\n// Map country names to continents\n// Includes different spellings and abbreviations you might find in map data\nexport const COUNTRY_NAME_TO_CONTINENT: Record<string, Continent> = {\n  // Africa\n  'Algeria': 'Africa', 'Angola': 'Africa', 'Benin': 'Africa', 'Botswana': 'Africa',\n  'Burkina Faso': 'Africa', 'Burundi': 'Africa', 'Cameroon': 'Africa', 'Cape Verde': 'Africa',\n  'Central African Rep.': 'Africa', 'Central African Republic': 'Africa', 'Chad': 'Africa',\n  'Comoros': 'Africa', 'Congo': 'Africa', 'Republic of the Congo': 'Africa', 'Rep. of the Congo': 'Africa',\n  'Democratic Republic of the Congo': 'Africa', 'Dem. Rep. Congo': 'Africa', 'Dem. Rep. of the Congo': 'Africa',\n  \"Côte d'Ivoire\": 'Africa', 'Ivory Coast': 'Africa', 'Djibouti': 'Africa',\n  'Egypt': 'Africa', 'Equatorial Guinea': 'Africa', 'Eq. Guinea': 'Africa', 'Eritrea': 'Africa',\n  'Ethiopia': 'Africa', 'eSwatini': 'Africa', 'Swaziland': 'Africa',\n  'Gabon': 'Africa', 'Gambia': 'Africa', 'The Gambia': 'Africa', 'Ghana': 'Africa',\n  'Guinea': 'Africa', 'Guinea-Bissau': 'Africa', 'Guinea Bissau': 'Africa', 'Kenya': 'Africa',\n  'Lesotho': 'Africa', 'Liberia': 'Africa', 'Libya': 'Africa', 'Madagascar': 'Africa',\n  'Malawi': 'Africa', 'Mali': 'Africa', 'Mauritania': 'Africa', 'Mauritius': 'Africa',\n  'Morocco': 'Africa', 'Mozambique': 'Africa', 'Namibia': 'Africa', 'Niger': 'Africa',\n  'Nigeria': 'Africa', 'Rwanda': 'Africa', 'São Tomé and Príncipe': 'Africa', 'Sao Tome and Principe': 'Africa',\n  'Senegal': 'Africa', 'Seychelles': 'Africa', 'Sierra Leone': 'Africa', 'Somalia': 'Africa',\n  'Somaliland': 'Africa', 'South Africa': 'Africa', 'S. Africa': 'Africa', 'South Sudan': 'Africa',\n  'S. Sudan': 'Africa', 'Sudan': 'Africa', 'Tanzania': 'Africa', 'United Republic of Tanzania': 'Africa',\n  'Togo': 'Africa', 'Tunisia': 'Africa', 'Uganda': 'Africa', 'W. Sahara': 'Africa',\n  'Western Sahara': 'Africa', 'Zambia': 'Africa', 'Zimbabwe': 'Africa',\n\n  // Asia\n  'Afghanistan': 'Asia', 'Armenia': 'Asia', 'Azerbaijan': 'Asia', 'Bahrain': 'Asia',\n  'Bangladesh': 'Asia', 'Bhutan': 'Asia', 'Brunei': 'Asia', 'Brunei Darussalam': 'Asia',\n  'Cambodia': 'Asia', 'China': 'Asia', 'Georgia': 'Asia',\n  'India': 'Asia', 'Indonesia': 'Asia', 'Iran': 'Asia', 'Iraq': 'Asia', 'Israel': 'Asia',\n  'Japan': 'Asia', 'Jordan': 'Asia', 'Kazakhstan': 'Asia', 'Kuwait': 'Asia',\n  'Kyrgyzstan': 'Asia', 'Laos': 'Asia', 'Lao PDR': 'Asia', 'Lebanon': 'Asia', 'Malaysia': 'Asia',\n  'Maldives': 'Asia', 'Mongolia': 'Asia', 'Myanmar': 'Asia', 'Nepal': 'Asia',\n  'North Korea': 'Asia', 'Korea, Dem. Rep.': 'Asia', 'Dem. Rep. Korea': 'Asia', 'N. Korea': 'Asia',\n  'Oman': 'Asia', 'Pakistan': 'Asia', 'Palestine': 'Asia', 'Palestinian Territories': 'Asia',\n  'Philippines': 'Asia', 'Qatar': 'Asia', 'Saudi Arabia': 'Asia', 'Singapore': 'Asia',\n  'South Korea': 'Asia', 'Korea': 'Asia', 'Republic of Korea': 'Asia', 'S. Korea': 'Asia',\n  'Sri Lanka': 'Asia', 'Syria': 'Asia', 'Syrian Arab Republic': 'Asia',\n  'Taiwan': 'Asia', 'Tajikistan': 'Asia', 'Thailand': 'Asia', 'Timor-Leste': 'Asia', 'East Timor': 'Asia',\n  'Turkey': 'Asia', 'Turkmenistan': 'Asia', 'United Arab Emirates': 'Asia',\n  'Uzbekistan': 'Asia', 'Vietnam': 'Asia', 'Viet Nam': 'Asia', 'Yemen': 'Asia',\n\n  // Europe\n  'Albania': 'Europe', 'Andorra': 'Europe', 'Austria': 'Europe', 'Belarus': 'Europe',\n  'Belgium': 'Europe', 'Bosnia and Herz.': 'Europe', 'Bosnia and Herzegovina': 'Europe', 'Bosnia': 'Europe',\n  'Bulgaria': 'Europe', 'Croatia': 'Europe', 'Cyprus': 'Europe', 'Czechia': 'Europe',\n  'Czech Republic': 'Europe', 'Czech Rep.': 'Europe', 'Denmark': 'Europe', 'Estonia': 'Europe',\n  'Finland': 'Europe', 'France': 'Europe', 'Germany': 'Europe', 'Greece': 'Europe',\n  'Hungary': 'Europe', 'Iceland': 'Europe', 'Ireland': 'Europe', 'Italy': 'Europe',\n  'Kosovo': 'Europe', 'Latvia': 'Europe', 'Liechtenstein': 'Europe', 'Lithuania': 'Europe',\n  'Luxembourg': 'Europe', 'Malta': 'Europe', 'Moldova': 'Europe', 'Republic of Moldova': 'Europe',\n  'Monaco': 'Europe', 'Montenegro': 'Europe', 'Netherlands': 'Europe', 'North Macedonia': 'Europe',\n  'Macedonia': 'Europe', 'Norway': 'Europe', 'Poland': 'Europe', 'Portugal': 'Europe',\n  'Romania': 'Europe', 'Russia': 'Europe', 'Russian Federation': 'Europe', 'San Marino': 'Europe',\n  'Serbia': 'Europe', 'Slovakia': 'Europe', 'Slovenia': 'Europe', 'Spain': 'Europe',\n  'Sweden': 'Europe', 'Switzerland': 'Europe', 'Ukraine': 'Europe', 'United Kingdom': 'Europe',\n  'UK': 'Europe', 'England': 'Europe', 'Vatican City': 'Europe', 'Vatican': 'Europe', 'Holy See': 'Europe',\n\n  // North America\n  'Antigua and Barbuda': 'North America', 'Antigua and Barb.': 'North America',\n  'Bahamas': 'North America', 'The Bahamas': 'North America', 'Barbados': 'North America',\n  'Belize': 'North America', 'Canada': 'North America', 'Costa Rica': 'North America',\n  'Cuba': 'North America', 'Dominica': 'North America', 'Dominican Rep.': 'North America',\n  'Dominican Republic': 'North America', 'El Salvador': 'North America', 'Grenada': 'North America',\n  'Guatemala': 'North America', 'Haiti': 'North America', 'Honduras': 'North America',\n  'Jamaica': 'North America', 'Mexico': 'North America', 'Nicaragua': 'North America',\n  'Panama': 'North America', 'Puerto Rico': 'North America',\n  'Saint Kitts and Nevis': 'North America', 'St. Kitts and Nevis': 'North America',\n  'Saint Lucia': 'North America', 'St. Lucia': 'North America',\n  'Saint Vincent and the Grenadines': 'North America', 'St. Vin. and Gren.': 'North America',\n  'Trinidad and Tobago': 'North America', 'Trinidad': 'North America',\n  'United States': 'North America', 'United States of America': 'North America', 'USA': 'North America',\n\n  // South America\n  'Argentina': 'South America', 'Bolivia': 'South America', 'Brazil': 'South America',\n  'Chile': 'South America', 'Colombia': 'South America', 'Ecuador': 'South America',\n  'Falkland Is.': 'South America', 'Falkland Islands': 'South America',\n  'French Guiana': 'South America', 'Fr. Guiana': 'South America',\n  'Guyana': 'South America', 'Paraguay': 'South America', 'Peru': 'South America',\n  'Suriname': 'South America', 'Uruguay': 'South America', 'Venezuela': 'South America',\n\n  // Oceania\n  'Australia': 'Oceania', 'Fiji': 'Oceania', 'Kiribati': 'Oceania', 'Marshall Islands': 'Oceania',\n  'Marshall Is.': 'Oceania', 'Micronesia': 'Oceania', 'Federated States of Micronesia': 'Oceania',\n  'Nauru': 'Oceania', 'New Zealand': 'Oceania', 'Palau': 'Oceania', 'Papua New Guinea': 'Oceania',\n  'Samoa': 'Oceania', 'Solomon Islands': 'Oceania', 'Solomon Is.': 'Oceania',\n  'Tonga': 'Oceania', 'Tuvalu': 'Oceania', 'Vanuatu': 'Oceania',\n  'New Caledonia': 'Oceania',\n\n  // Antarctica\n  'Antarctica': 'Antarctica'\n};\n\n// Map 3-letter country codes to continents\n// Based on official UN region standards\nexport const COUNTRY_TO_CONTINENT: Record<string, Continent> = {\n  // Africa\n  'DZA': 'Africa', 'AGO': 'Africa', 'BEN': 'Africa', 'BWA': 'Africa', 'BFA': 'Africa',\n  'BDI': 'Africa', 'CMR': 'Africa', 'CPV': 'Africa', 'CAF': 'Africa', 'TCD': 'Africa',\n  'COM': 'Africa', 'COG': 'Africa', 'COD': 'Africa', 'CIV': 'Africa', 'DJI': 'Africa',\n  'EGY': 'Africa', 'GNQ': 'Africa', 'ERI': 'Africa', 'ETH': 'Africa', 'GAB': 'Africa',\n  'GMB': 'Africa', 'GHA': 'Africa', 'GIN': 'Africa', 'GNB': 'Africa', 'KEN': 'Africa',\n  'LSO': 'Africa', 'LBR': 'Africa', 'LBY': 'Africa', 'MDG': 'Africa', 'MWI': 'Africa',\n  'MLI': 'Africa', 'MRT': 'Africa', 'MUS': 'Africa', 'MAR': 'Africa', 'MOZ': 'Africa',\n  'NAM': 'Africa', 'NER': 'Africa', 'NGA': 'Africa', 'RWA': 'Africa', 'STP': 'Africa',\n  'SEN': 'Africa', 'SYC': 'Africa', 'SLE': 'Africa', 'SOM': 'Africa', 'ZAF': 'Africa',\n  'SSD': 'Africa', 'SDN': 'Africa', 'SWZ': 'Africa', 'TZA': 'Africa', 'TGO': 'Africa',\n  'TUN': 'Africa', 'UGA': 'Africa', 'ZMB': 'Africa', 'ZWE': 'Africa',\n\n  // Asia\n  'AFG': 'Asia', 'ARM': 'Asia', 'AZE': 'Asia', 'BHR': 'Asia', 'BGD': 'Asia',\n  'BTN': 'Asia', 'BRN': 'Asia', 'KHM': 'Asia', 'CHN': 'Asia', 'GEO': 'Asia',\n  'IND': 'Asia', 'IDN': 'Asia', 'IRN': 'Asia', 'IRQ': 'Asia', 'ISR': 'Asia',\n  'JPN': 'Asia', 'JOR': 'Asia', 'KAZ': 'Asia', 'KWT': 'Asia', 'KGZ': 'Asia',\n  'LAO': 'Asia', 'LBN': 'Asia', 'MYS': 'Asia', 'MDV': 'Asia', 'MNG': 'Asia',\n  'MMR': 'Asia', 'NPL': 'Asia', 'PRK': 'Asia', 'OMN': 'Asia', 'PAK': 'Asia',\n  'PSE': 'Asia', 'PHL': 'Asia', 'QAT': 'Asia', 'SAU': 'Asia', 'SGP': 'Asia',\n  'KOR': 'Asia', 'LKA': 'Asia', 'SYR': 'Asia', 'TWN': 'Asia', 'TJK': 'Asia',\n  'THA': 'Asia', 'TLS': 'Asia', 'TUR': 'Asia', 'TKM': 'Asia', 'ARE': 'Asia',\n  'UZB': 'Asia', 'VNM': 'Asia', 'YEM': 'Asia',\n\n  // Europe\n  'ALB': 'Europe', 'AND': 'Europe', 'AUT': 'Europe', 'BLR': 'Europe', 'BEL': 'Europe',\n  'BIH': 'Europe', 'BGR': 'Europe', 'HRV': 'Europe', 'CYP': 'Europe', 'CZE': 'Europe',\n  'DNK': 'Europe', 'EST': 'Europe', 'FIN': 'Europe', 'FRA': 'Europe', 'DEU': 'Europe',\n  'GRC': 'Europe', 'HUN': 'Europe', 'ISL': 'Europe', 'IRL': 'Europe', 'ITA': 'Europe',\n  'XKX': 'Europe', 'LVA': 'Europe', 'LIE': 'Europe', 'LTU': 'Europe', 'LUX': 'Europe',\n  'MKD': 'Europe', 'MLT': 'Europe', 'MDA': 'Europe', 'MCO': 'Europe', 'MNE': 'Europe',\n  'NLD': 'Europe', 'NOR': 'Europe', 'POL': 'Europe', 'PRT': 'Europe', 'ROU': 'Europe',\n  'RUS': 'Europe', 'SMR': 'Europe', 'SRB': 'Europe', 'SVK': 'Europe', 'SVN': 'Europe',\n  'ESP': 'Europe', 'SWE': 'Europe', 'CHE': 'Europe', 'UKR': 'Europe', 'GBR': 'Europe',\n  'VAT': 'Europe',\n\n  // North America\n  'ATG': 'North America', 'BHS': 'North America', 'BRB': 'North America', 'BLZ': 'North America',\n  'CAN': 'North America', 'CRI': 'North America', 'CUB': 'North America', 'DMA': 'North America',\n  'DOM': 'North America', 'SLV': 'North America', 'GRD': 'North America', 'GTM': 'North America',\n  'HTI': 'North America', 'HND': 'North America', 'JAM': 'North America', 'MEX': 'North America',\n  'NIC': 'North America', 'PAN': 'North America', 'KNA': 'North America', 'LCA': 'North America',\n  'VCT': 'North America', 'TTO': 'North America', 'USA': 'North America',\n\n  // South America\n  'ARG': 'South America', 'BOL': 'South America', 'BRA': 'South America', 'CHL': 'South America',\n  'COL': 'South America', 'ECU': 'South America', 'GUY': 'South America', 'PRY': 'South America',\n  'PER': 'South America', 'SUR': 'South America', 'URY': 'South America', 'VEN': 'South America',\n\n  // Oceania\n  'AUS': 'Oceania', 'FJI': 'Oceania', 'KIR': 'Oceania', 'MHL': 'Oceania', 'FSM': 'Oceania',\n  'NRU': 'Oceania', 'NZL': 'Oceania', 'PLW': 'Oceania', 'PNG': 'Oceania', 'WSM': 'Oceania',\n  'SLB': 'Oceania', 'TON': 'Oceania', 'TUV': 'Oceania', 'VUT': 'Oceania',\n\n  // Antarctica\n  'ATA': 'Antarctica'\n};\n\n// Figure out which continent a country belongs to\n// Tries different ways that map data might store country info\nexport function getContinentForGeography(geography: GeographyObject): Continent | null {\n  if (!geography.properties) {\n    return null;\n  }\n\n  const props = geography.properties;\n\n  // Some map data already has continent info\n  const continent = props['CONTINENT'] || props['continent'];\n  if (continent && typeof continent === 'string') {\n    return continent as Continent;\n  }\n\n  // Look for 3-letter country codes in various places\n  const countryCode = props['ISO_A3'] || props['iso_a3'] ||\n                      props['ADM0_A3'] || props['adm0_a3'] ||\n                      props['SOV_A3'] || props['sov_a3'] ||\n                      props['ISO3'] || props['iso3'];\n\n  if (countryCode && typeof countryCode === 'string') {\n    const result = COUNTRY_TO_CONTINENT[countryCode.toUpperCase()];\n    if (result) return result;\n  }\n\n  // Look for country name in various fields\n  const countryName = props['name'] || props['NAME'] ||\n                      props['ADMIN'] || props['admin'] ||\n                      props['NAME_LONG'] || props['name_long'] ||\n                      props['SOVEREIGNT'] || props['sovereignt'];\n\n  if (countryName && typeof countryName === 'string') {\n    const result = COUNTRY_NAME_TO_CONTINENT[countryName];\n    if (result) return result;\n  }\n\n  return null;\n}\n\n// Keep only countries from specific continents\nexport function filterByContinents(\n  geographies: GeographyObject[],\n  continents: Continent | Continent[]\n): GeographyObject[] {\n  const continentSet = new Set(Array.isArray(continents) ? continents : [continents]);\n\n  return geographies.filter(geo => {\n    const continent = getContinentForGeography(geo);\n    return continent && continentSet.has(continent);\n  });\n}\n","import { Renderer2 } from '@angular/core';\nimport { MarkerShape } from '../components/map/map.types';\n\n// Utility functions for creating marker shapes\n// Handles all the different marker types and custom SVG creation\n\nexport class MarkerRendererUtil {\n  static createMarkerShape(\n    renderer: Renderer2,\n    shape: MarkerShape,\n    size: number,\n    fill: string,\n    stroke: string,\n    customSvg?: string,\n    customSvgSize?: number\n  ): SVGElement {\n    let el: SVGElement;\n\n    switch (shape) {\n      case 'custom':\n        if (customSvg) {\n          const isSvgMarkup = customSvg.trim().toLowerCase().startsWith('<svg');\n          \n          if (isSvgMarkup) {\n            return this.createFromSvgMarkup(renderer, customSvg, size, fill, stroke, customSvgSize);\n          } else {\n            return this.createFromPathData(renderer, customSvg, size, fill, stroke, customSvgSize);\n          }\n        }\n        // Fallback to circle if no customSvg provided\n        el = renderer.createElement('circle', 'svg');\n        renderer.setAttribute(el, 'r', String(size));\n        break;\n\n      case 'diamond':\n        el = renderer.createElement('path', 'svg');\n        renderer.setAttribute(el, 'd', `M0,${-size} L${size * 0.7},0 L0,${size} L${-size * 0.7},0 Z`);\n        break;\n\n      case 'pin':\n        el = renderer.createElement('path', 'svg');\n        const pinH = size * 2.5;\n        renderer.setAttribute(el, 'd',\n          `M0,${-pinH} C${-size},${-pinH} ${-size * 1.2},${-pinH * 0.6} ${-size * 1.2},${-pinH * 0.4} ` +\n          `C${-size * 1.2},${-pinH * 0.2} 0,0 0,0 C0,0 ${size * 1.2},${-pinH * 0.2} ${size * 1.2},${-pinH * 0.4} ` +\n          `C${size * 1.2},${-pinH * 0.6} ${size},${-pinH} 0,${-pinH} Z`\n        );\n        break;\n\n      case 'star':\n        el = renderer.createElement('path', 'svg');\n        const points = 5;\n        const outerR = size;\n        const innerR = size * 0.4;\n        let d = '';\n        for (let i = 0; i < points * 2; i++) {\n          const r = i % 2 === 0 ? outerR : innerR;\n          const angle = (Math.PI / points) * i - Math.PI / 2;\n          const px = r * Math.cos(angle);\n          const py = r * Math.sin(angle);\n          d += (i === 0 ? 'M' : 'L') + `${px},${py}`;\n        }\n        d += 'Z';\n        renderer.setAttribute(el, 'd', d);\n        break;\n\n      case 'circle':\n      default:\n        el = renderer.createElement('circle', 'svg');\n        renderer.setAttribute(el, 'r', String(size));\n        break;\n    }\n\n    renderer.setAttribute(el, 'fill', fill);\n    renderer.setAttribute(el, 'stroke', stroke);\n    renderer.setAttribute(el, 'stroke-width', '2');\n\n    return el;\n  }\n\n  private static createFromPathData(\n    renderer: Renderer2,\n    pathData: string,\n    size: number,\n    fill: string,\n    stroke: string,\n    customSvgSize?: number\n  ): SVGElement {\n    const el = renderer.createElement('g', 'svg');\n    const pathEl = renderer.createElement('path', 'svg');\n\n    const viewBoxSize = customSvgSize || 24;\n    const scale = (size * 2) / viewBoxSize;\n    const offset = -viewBoxSize / 2;\n    \n    renderer.setAttribute(el, 'transform', `scale(${scale}) translate(${offset}, ${offset})`);\n    renderer.setAttribute(pathEl, 'd', pathData);\n    renderer.setAttribute(pathEl, 'fill', fill);\n    renderer.setAttribute(pathEl, 'stroke', stroke);\n    renderer.setAttribute(pathEl, 'stroke-width', String(1 / scale));\n    renderer.appendChild(el, pathEl);\n    \n    return el;\n  }\n\n  private static createFromSvgMarkup(\n    renderer: Renderer2,\n    svgMarkup: string,\n    size: number,\n    fill: string,\n    stroke: string,\n    customSvgSize?: number\n  ): SVGElement {\n    const el = renderer.createElement('g', 'svg');\n\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(svgMarkup, 'image/svg+xml');\n    const svgEl = doc.querySelector('svg');\n\n    if (!svgEl) {\n      // Fallback to circle if parsing fails\n      const circle = renderer.createElement('circle', 'svg');\n      renderer.setAttribute(circle, 'r', String(size));\n      renderer.setAttribute(circle, 'fill', fill);\n      return circle;\n    }\n\n    let viewBoxSize = customSvgSize || 24;\n    const viewBox = svgEl.getAttribute('viewBox');\n    if (viewBox && !customSvgSize) {\n      const parts = viewBox.split(/[\\s,]+/);\n      if (parts.length >= 4) {\n        viewBoxSize = Math.max(parseFloat(parts[2]), parseFloat(parts[3]));\n      }\n    }\n\n    const scale = (size * 2) / viewBoxSize;\n    const offset = -viewBoxSize / 2;\n    renderer.setAttribute(el, 'transform', `scale(${scale}) translate(${offset}, ${offset})`);\n\n    Array.from(svgEl.children).forEach(child => {\n      const clone = child.cloneNode(true) as SVGElement;\n      if (!clone.getAttribute('fill') || clone.getAttribute('fill') === 'currentColor') {\n        clone.setAttribute('fill', fill);\n      }\n      if (!clone.getAttribute('stroke')) {\n        clone.setAttribute('stroke', stroke);\n        clone.setAttribute('stroke-width', String(1 / scale));\n      }\n      el.appendChild(clone);\n    });\n\n    return el;\n  }\n\n  static loadSvgMarker(\n    renderer: Renderer2,\n    url: string,\n    markerGroup: SVGGElement,\n    size: number,\n    fill: string,\n    stroke: string,\n    customSvgSize?: number\n  ): void {\n    // Add a placeholder circle while loading\n    const placeholder = renderer.createElement('circle', 'svg');\n    renderer.setAttribute(placeholder, 'r', String(size / 2));\n    renderer.setAttribute(placeholder, 'fill', fill);\n    renderer.setAttribute(placeholder, 'opacity', '0.3');\n    renderer.appendChild(markerGroup, placeholder);\n\n    // Fetch the SVG file\n    fetch(url)\n      .then(response => {\n        if (!response.ok) throw new Error(`Failed to load SVG: ${url}`);\n        return response.text();\n      })\n      .then(svgMarkup => {\n        // Remove placeholder\n        if (placeholder.parentNode) {\n          placeholder.parentNode.removeChild(placeholder);\n        }\n\n        // Create marker from loaded SVG\n        const shapeEl = this.createFromSvgMarkup(renderer, svgMarkup, size, fill, stroke, customSvgSize);\n        renderer.appendChild(markerGroup, shapeEl);\n      })\n      .catch(err => {\n        console.error('Error loading SVG marker:', err);\n        // Replace placeholder with solid circle on error\n        renderer.setAttribute(placeholder, 'opacity', '1');\n      });\n  }\n}","// Utility functions for creating curved paths and geometric calculations\n// Helps with drawing flight paths and other curved lines between points\n\nexport class PathHelperUtil {\n  /**\n   * Create curved path between two points for flight paths and connections\n   */\n  static createCurvedLinePath(\n    projection: any,\n    from: [number, number], \n    to: [number, number], \n    curve: number\n  ): string {\n    const fromProj = projection(from);\n    const toProj = projection(to);\n\n    if (!fromProj || !toProj) return '';\n\n    const [x1, y1] = fromProj;\n    const [x2, y2] = toProj;\n\n    if (curve === 0) {\n      return `M${x1},${y1} L${x2},${y2}`;\n    }\n\n    // Calculate midpoint and offset for curve\n    const midX = (x1 + x2) / 2;\n    const midY = (y1 + y2) / 2;\n\n    // Perpendicular offset for the curve\n    const dx = x2 - x1;\n    const dy = y2 - y1;\n    const dist = Math.sqrt(dx * dx + dy * dy);\n\n    // Perpendicular direction\n    const perpX = -dy / dist;\n    const perpY = dx / dist;\n\n    // Control point offset (curve amount)\n    const offset = dist * curve * 0.3;\n    const ctrlX = midX + perpX * offset;\n    const ctrlY = midY + perpY * offset;\n\n    return `M${x1},${y1} Q${ctrlX},${ctrlY} ${x2},${y2}`;\n  }\n\n  /**\n   * Calculate annotation path with optional curve\n   */\n  static createAnnotationPath(\n    x: number, \n    y: number, \n    dx: number, \n    dy: number, \n    curve: number\n  ): string {\n    const endX = x + dx;\n    const endY = y + dy;\n\n    if (curve <= 0) {\n      return `M${x},${y} L${endX},${endY}`;\n    }\n\n    const midX = x + dx * curve;\n    const midY = y + dy * (1 - curve);\n    return `M${x},${y} Q${midX},${midY} ${endX},${endY}`;\n  }\n}","import { Injectable } from '@angular/core';\nimport { GeoProjection } from 'd3-geo';\nimport { ProjectionType, ProjectionConfig } from '../models';\nimport { getProjectionFactory } from '../utils';\n\n// Handles creating different map projections (like globe view, flat maps, etc.)\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProjectionService {\n  // Create a map projection with the settings you want\n  // This is what turns spherical Earth into a flat map\n  createProjection(\n    type: ProjectionType = 'geoEqualEarth',\n    config: ProjectionConfig = {},\n    width: number = 800,\n    height: number = 400\n  ): GeoProjection {\n    // Get the right projection type (globe, flat, etc.)\n    const projectionFactory = getProjectionFactory(type);\n    const projection = projectionFactory();\n\n    // Set it up with your custom settings\n    this.applyProjectionConfig(projection, config, width, height);\n\n    return projection;\n  }\n\n  // Apply all the custom settings to the projection\n  private applyProjectionConfig(\n    projection: GeoProjection,\n    config: ProjectionConfig,\n    width: number,\n    height: number\n  ): void {\n    // Rotate the globe to show different sides\n    if (config.rotate) {\n      projection.rotate(config.rotate as [number, number, number]);\n    }\n\n    // Center the map on a specific point\n    if (config.center) {\n      projection.center(config.center);\n    }\n\n    // Move the map around\n    if (config.translate) {\n      projection.translate(config.translate);\n    } else {\n      // By default, center the map in the middle\n      projection.translate([width / 2, height / 2]);\n    }\n\n    // Set standard parallels for cone-shaped projections\n    if (config.parallels && 'parallels' in projection) {\n      (projection as any).parallels(config.parallels);\n    }\n\n    // Set how precise the curves should be\n    if (config.precision !== undefined) {\n      projection.precision(config.precision);\n    }\n\n    // Set the viewing angle for globe-like projections\n    if (config.clipAngle !== undefined && 'clipAngle' in projection) {\n      (projection as any).clipAngle(config.clipAngle);\n    }\n\n    // Turn off auto-clipping for Mercator to avoid weird edges\n    if ('clipExtent' in projection) {\n      (projection as any).clipExtent(null);\n    }\n\n    // Set the size or auto-fit to the container\n    if (config.scale !== undefined) {\n      projection.scale(config.scale);\n    } else {\n      // Make it fit perfectly in the container\n      this.autoFitProjection(projection, width, height);\n    }\n  }\n\n  // Automatically scale the map to fit perfectly in the available space\n  private autoFitProjection(\n    projection: GeoProjection,\n    width: number,\n    height: number\n  ): void {\n    try {\n      // Try to fit the whole world in the container\n      projection.fitSize([width, height], { type: 'Sphere' } as any);\n    } catch (error) {\n      // Some projections can't auto-fit, so use a reasonable default size\n      console.warn('Projection does not support auto-fitting. Using default scale.');\n      projection.scale(150);\n    }\n  }\n}\n","import { Injectable, inject } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable, of } from 'rxjs';\nimport { map, shareReplay } from 'rxjs/operators';\nimport { feature, mesh } from 'topojson-client';\nimport { Feature, FeatureCollection } from 'geojson';\nimport {\n  GeographyInput,\n  ParsedGeography,\n  TopoJSON,\n  GeoJSON,\n} from '../models';\nimport { addKeysToGeographies } from '../utils';\n\n// Loads map data from URLs or objects and converts it to a format we can use\n@Injectable({\n  providedIn: 'root'\n})\nexport class GeographyLoaderService {\n  private readonly httpClient = inject(HttpClient);\n  private readonly cache = new Map<string, Observable<ParsedGeography>>();\n\n  // Load map data - either from a URL or data you already have\n  load(geography: GeographyInput): Observable<ParsedGeography> {\n    // If you passed in data directly, just process it\n    if (typeof geography === 'object') {\n      return of(this.parseGeography(geography));\n    }\n\n    // If it's a URL, see if we already downloaded it\n    if (this.cache.has(geography)) {\n      return this.cache.get(geography)!;\n    }\n\n    // Download from URL and remember it for next time\n    const request$ = this.httpClient.get(geography).pipe(\n      map((data) => this.parseGeography(data)),\n      shareReplay(1)\n    );\n\n    this.cache.set(geography, request$);\n    return request$;\n  }\n\n  // Figure out what kind of map data this is and convert it\n  private parseGeography(data: any): ParsedGeography {\n    // Check if it's TopoJSON format\n    if (data.type === 'Topology' && data.objects) {\n      return this.parseTopoJSON(data as TopoJSON);\n    }\n\n    // Check if it's GeoJSON format\n    if (data.type === 'FeatureCollection' || data.type === 'Feature') {\n      return this.parseGeoJSON(data as GeoJSON);\n    }\n\n    // If we can't tell, assume it's GeoJSON\n    console.warn('Unknown geography format. Attempting to parse as GeoJSON.');\n    return this.parseGeoJSON(data as GeoJSON);\n  }\n\n  // Convert TopoJSON data (compressed format) to something we can draw\n  private parseTopoJSON(topology: TopoJSON): ParsedGeography {\n    // TopoJSON can have multiple objects, just grab the first one\n    const objectKeys = Object.keys(topology.objects);\n    if (objectKeys.length === 0) {\n      throw new Error('TopoJSON topology has no objects');\n    }\n\n    const firstObjectKey = objectKeys[0];\n    const firstObject = topology.objects[firstObjectKey];\n\n    // Turn the compressed data into individual country shapes\n    const featureCollection = feature(topology, firstObject) as FeatureCollection;\n    const features = addKeysToGeographies(featureCollection.features);\n\n    // Create lines for borders between countries\n    const borders = mesh(\n      topology,\n      firstObject,\n      (a, b) => a !== b // Only draw borders between different countries\n    );\n\n    return {\n      type: 'topojson',\n      features,\n      borders,\n      outline: { type: 'Sphere' } as any,\n    };\n  }\n\n  // Handle GeoJSON data (already in the right format, mostly)\n  private parseGeoJSON(geojson: GeoJSON): ParsedGeography {\n    let features: Feature[];\n\n    if (geojson.type === 'FeatureCollection') {\n      features = geojson.features;\n    } else if (geojson.type === 'Feature') {\n      features = [geojson];\n    } else {\n      // Treat whatever this is as a single map feature\n      features = [geojson as Feature];\n    }\n\n    return {\n      type: 'geojson',\n      features: addKeysToGeographies(features),\n    };\n  }\n\n  // Clear downloaded data from memory\n  clearCache(): void {\n    this.cache.clear();\n  }\n}\n","import {\n  Component,\n  ChangeDetectionStrategy,\n  input,\n  output,\n  signal,\n  computed,\n  effect,\n  inject,\n  ElementRef,\n  Renderer2,\n  AfterViewInit,\n  OnDestroy,\n  ViewChild\n} from '@angular/core';\nimport { toSignal, toObservable } from '@angular/core/rxjs-interop';\nimport { switchMap, map, catchError, of } from 'rxjs';\nimport { geoPath, geoGraticule, geoCentroid, geoBounds } from 'd3-geo';\nimport { ProjectionService } from '../../services';\nimport { GeographyLoaderService } from '../../services';\nimport { ProjectionType, ProjectionConfig, GeographyInput, GeographyObject } from '../../models';\nimport { filterByContinents, Continent } from '../../utils';\nimport { MarkerRendererUtil } from '../../utils/marker-renderer.util';\nimport { PathHelperUtil } from '../../utils/path-helper.util';\nimport {\n  MapMarker,\n  MapAnnotation,\n  MapLine,\n  TooltipConfig,\n  ChoroplethData,\n  ChoroplethConfig,\n  GraticuleConfig,\n  MapGeographyEvent,\n  MapMarkerEvent,\n  MapLineEvent,\n  MarkerShape\n} from './map.types';\n\n// The main map component that brings everything together\n// Just pass in your data and customize however you like!\n//\n// Basic usage: <asm-map [geography]=\"worldData\"></asm-map>\n// With all the bells and whistles:\n// <asm-map [geography]=\"worldData\" [markers]=\"markers\" [zoomable]=\"true\" [showTooltip]=\"true\"></asm-map>\n@Component({\n  selector: 'asm-map',\n  standalone: true,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  templateUrl: './map.component.html',\n  styleUrl: './map.component.css'\n})\nexport class MapComponent implements AfterViewInit, OnDestroy {\n  private readonly projectionService = inject(ProjectionService);\n  private readonly geographyLoader = inject(GeographyLoaderService);\n  private readonly renderer = inject(Renderer2);\n\n  @ViewChild('svgElement') private svgElement!: ElementRef<SVGSVGElement>;\n  @ViewChild('zoomGroup') private zoomGroupElement!: ElementRef<SVGGElement>;\n\n  // Main map settings\n\n  // The map data - can be a URL or the data itself\n  geography = input.required<GeographyInput>();\n\n  // How wide the map should be\n  width = input<number>(800);\n\n  // How tall the map should be\n  height = input<number>(400);\n\n  // Max width in pixels (optional)\n  maxWidth = input<number | null>(null);\n\n  // What kind of map projection to use\n  projection = input<ProjectionType>('geoEqualEarth');\n\n  // Extra settings for the projection\n  projectionConfig = input<ProjectionConfig>({});\n\n  // Show only specific continents if you want\n  continents = input<Continent | Continent[] | null>(null);\n\n  // How the map looks\n\n  // Color to fill countries with\n  fill = input<string>('#ECECEC');\n\n  // Color for country borders\n  stroke = input<string>('#D6D6D6');\n\n  // How thick the borders should be\n  strokeWidth = input<number>(0.5);\n\n  // Color when you hover over countries (optional)\n  hoverFill = input<string | null>(null);\n\n  // Points and labels on the map\n\n  // List of points to show on the map\n  markers = input<MapMarker[]>([]);\n\n  // Text labels with lines pointing to places\n  annotations = input<MapAnnotation[]>([]);\n\n  // What color markers should be by default\n  markerColor = input<string>('#FF5533');\n\n  // How big markers should be by default\n  markerSize = input<number>(6);\n\n  // Lines connecting places (like flight paths)\n\n  // List of lines to draw between places\n  lines = input<MapLine[]>([]);\n\n  // What color lines should be by default\n  lineColor = input<string>('#FF5533');\n\n  // How thick lines should be by default\n  lineStrokeWidth = input<number>(2);\n\n  // Color countries based on data (like population density)\n\n  // Data that maps country names to values\n  choroplethData = input<ChoroplethData | null>(null);\n\n  // Settings for how the data coloring works\n  choroplethConfig = input<ChoroplethConfig | null>(null);\n\n  // Grid lines (latitude/longitude)\n\n  // Whether to show the grid lines or not\n  showGraticule = input<boolean>(false);\n\n  // How the grid lines should look\n  graticuleConfig = input<GraticuleConfig | null>(null);\n\n  // Zoom and pan controls\n\n  // Let users zoom in/out and drag the map around\n  zoomable = input<boolean>(false);\n\n  // Show the +/- buttons for zooming\n  showZoomControls = input<boolean>(true);\n\n  // How far out users can zoom\n  minZoom = input<number>(1);\n\n  // How far in users can zoom\n  maxZoom = input<number>(8);\n\n  // Should clicking a country zoom into it?\n  zoomOnClick = input<boolean>(false);\n\n  // How much to zoom when clicking a country\n  zoomOnClickLevel = input<number>(4);\n\n  // How long zoom animations should take (in milliseconds)\n  zoomAnimationDuration = input<number>(800);\n\n  // Hover tooltips\n\n  // Show little popup when hovering over countries\n  showTooltip = input<boolean>(false);\n\n  // How the tooltip should look (colors, etc.)\n  tooltipConfig = input<TooltipConfig | null>(null);\n\n  // Country name labels\n\n  // Display country names on the map\n  showLabels = input<boolean>(false);\n\n  // Only show labels when zoomed in enough\n  labelMinZoom = input<number>(1);\n\n  // How big the country name text should be\n  labelFontSize = input<number>(12);\n\n  // What color the country names should be\n  labelColor = input<string>('#333');\n\n  // How bold the country names should be\n  labelFontWeight = input<string | number>('normal');\n\n  // Events that get fired when stuff happens\n\n  // Fires when someone clicks on a country\n  countryClick = output<MapGeographyEvent>();\n\n  // Fires when someone hovers over a country\n  countryHover = output<MapGeographyEvent>();\n\n  // Fires when mouse stops hovering over a country\n  countryLeave = output<void>();\n\n  // Fires when someone clicks on a marker\n  markerClick = output<MapMarkerEvent>();\n\n  // Fires when someone clicks on a line\n  lineClick = output<MapLineEvent>();\n\n  // Internal stuff for keeping track of zoom and pan\n\n  private readonly _scale = signal(1);\n  private readonly _translateX = signal(0);\n  private readonly _translateY = signal(0);\n\n  protected readonly tooltipVisible = signal(false);\n  protected readonly tooltipX = signal(0);\n  protected readonly tooltipY = signal(0);\n  protected readonly tooltipContent = signal('');\n\n  private isDragging = false;\n  private dragStartX = 0;\n  private dragStartY = 0;\n  private lastTranslateX = 0;\n  private lastTranslateY = 0;\n\n  // Keep track of event listeners so we can clean them up later\n  private wheelHandler?: (e: WheelEvent) => void;\n  private mouseDownHandler?: (e: MouseEvent) => void;\n  private mouseMoveHandler?: (e: MouseEvent) => void;\n  private mouseUpHandler?: (e: MouseEvent) => void;\n\n  // SVG viewbox dimensions\n  protected readonly viewBox = computed(() =>\n    `0 0 ${this.width()} ${this.height()}`\n  );\n\n  // The map projection we're using\n  private readonly proj = computed(() =>\n    this.projectionService.createProjection(\n      this.projection(),\n      this.projectionConfig(),\n      this.width(),\n      this.height()\n    )\n  );\n\n  // Converts geographic coordinates to SVG paths\n  private readonly pathGenerator = computed(() =>\n    geoPath().projection(this.proj())\n  );\n\n  // The actual country/geography data after loading\n  private readonly geographies = toSignal(\n    toObservable(this.geography).pipe(\n      switchMap(geo =>\n        this.geographyLoader.load(geo).pipe(\n          map(data => {\n            let features = data.features;\n            const continentFilter = this.continents();\n            if (continentFilter) {\n              features = filterByContinents(features, continentFilter);\n            }\n            return features;\n          }),\n          catchError(err => {\n            console.error('Error loading geographies:', err);\n            return of([] as GeographyObject[]);\n          })\n        )\n      )\n    ),\n    { initialValue: [] as GeographyObject[] }\n  );\n\n  constructor() {\n    // Redraw the map when data or styles change\n    effect(() => {\n      const geos = this.geographies();\n      if (geos.length > 0 && this.zoomGroupElement) {\n        this.render();\n      }\n    });\n\n    // Redraw labels when zoom or label settings change\n    effect(() => {\n      const showLabels = this.showLabels();\n      const labelMinZoom = this.labelMinZoom();\n      const scale = this._scale();\n      \n      if (this.zoomGroupElement && this.geographies().length > 0) {\n        this.render();\n      }\n    });\n  }\n\n  ngAfterViewInit(): void {\n    // Draw the map for the first time\n    setTimeout(() => this.render(), 0);\n\n    // Set up mouse/wheel events for zooming if enabled\n    if (this.zoomable()) {\n      this.setupZoomHandlers();\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.cleanupZoomHandlers();\n  }\n\n  // Public methods for controlling zoom\n\n  zoomIn(): void {\n    const newScale = Math.min(this._scale() * 1.5, this.maxZoom());\n    this._scale.set(newScale);\n    this.updateTransform();\n  }\n\n  zoomOut(): void {\n    const newScale = Math.max(this._scale() / 1.5, this.minZoom());\n    this._scale.set(newScale);\n    this.updateTransform();\n  }\n\n  resetZoom(): void {\n    this._scale.set(1);\n    this._translateX.set(0);\n    this._translateY.set(0);\n    this.updateTransform();\n  }\n\n  // Focus the map on a specific country or region\n  zoomToFeature(geo: GeographyObject): void {\n    const projection = this.proj();\n    \n    // Find the center point of the country\n    const centroid = geoCentroid(geo);\n    const projectedCentroid = projection(centroid);\n    \n    if (!projectedCentroid) return;\n    \n    const width = this.width();\n    const height = this.height();\n    \n    // Use the zoom level from settings\n    let targetScale = this.zoomOnClickLevel();\n    \n    // Make sure zoom level is within allowed range\n    targetScale = Math.max(this.minZoom(), Math.min(targetScale, this.maxZoom()));\n    \n    // The transform is: translate(w/2 + tx, h/2 + ty) scale(s) translate(-w/2, -h/2)\n    // We want the projected centroid to end up at the center of the viewport (w/2, h/2)\n    // \n    // After the full transform, a point at [x, y] becomes:\n    // [(x - w/2) * s + w/2 + tx, (y - h/2) * s + h/2 + ty]\n    //\n    // We want projectedCentroid to map to [w/2, h/2], so:\n    // (projectedCentroid[0] - w/2) * s + w/2 + tx = w/2\n    // (projectedCentroid[1] - h/2) * s + h/2 + ty = h/2\n    //\n    // Solving for tx and ty:\n    // tx = -(projectedCentroid[0] - w/2) * s\n    // ty = -(projectedCentroid[1] - h/2) * s\n    \n    const translateX = -(projectedCentroid[0] - width / 2) * targetScale;\n    const translateY = -(projectedCentroid[1] - height / 2) * targetScale;\n    \n    // Smoothly move to the new view\n    this.animateToZoom(targetScale, translateX, translateY);\n  }\n\n  // Smoothly animate to a new zoom level and position\n  private animateToZoom(targetScale: number, targetX: number, targetY: number): void {\n    const startScale = this._scale();\n    const startX = this._translateX();\n    const startY = this._translateY();\n    \n    const duration = this.zoomAnimationDuration();\n    const startTime = performance.now();\n    \n    const animate = (currentTime: number) => {\n      const elapsed = currentTime - startTime;\n      const progress = Math.min(elapsed / duration, 1);\n      \n      // Use a nice smooth easing function\n      const eased = progress < 0.5\n        ? 4 * progress * progress * progress\n        : 1 - Math.pow(-2 * progress + 2, 3) / 2;\n      \n      // Interpolate values\n      const currentScale = startScale + (targetScale - startScale) * eased;\n      const currentX = startX + (targetX - startX) * eased;\n      const currentY = startY + (targetY - startY) * eased;\n      \n      // Apply the interpolated values\n      this._scale.set(currentScale);\n      this._translateX.set(currentX);\n      this._translateY.set(currentY);\n      this.updateTransform();\n      \n      if (progress < 1) {\n        requestAnimationFrame(animate);\n      }\n    };\n    \n    requestAnimationFrame(animate);\n  }\n\n  // ===== Internal Methods =====\n\n  protected onMouseMove(event: MouseEvent): void {\n    if (this.showTooltip() && this.tooltipVisible()) {\n      this.tooltipX.set(event.clientX + 10);\n      this.tooltipY.set(event.clientY + 10);\n    }\n  }\n\n  private render(): void {\n    if (!this.zoomGroupElement) return;\n\n    const group = this.zoomGroupElement.nativeElement;\n    const geos = this.geographies();\n    const path = this.pathGenerator();\n    const proj = this.proj();\n\n    // Clear existing content\n    this.clearSvgContent(group);\n\n    // Render all layers in order\n    this.renderGraticule(group, path);\n    this.renderGeographies(group, geos, path);\n    this.renderLines(group, proj);\n    this.renderMarkers(group, proj);\n    this.renderAnnotations(group, proj);\n    this.renderLabels(group, geos, proj);\n\n    // Apply current transform\n    this.updateTransform();\n  }\n\n  private clearSvgContent(group: SVGGElement): void {\n    while (group.firstChild) {\n      group.removeChild(group.firstChild);\n    }\n  }\n\n  private renderGraticule(group: SVGGElement, path: any): void {\n    if (!this.showGraticule()) return;\n\n    const config = this.graticuleConfig();\n    const graticule = geoGraticule();\n\n    if (config?.step) {\n      graticule.step(config.step);\n    }\n\n    // Render graticule lines (grid lines)\n    const graticuleLines = graticule.lines();\n    graticuleLines.forEach(line => {\n      const lineEl = this.renderer.createElement('path', 'svg');\n      const pathData = path(line) || '';\n\n      this.renderer.setAttribute(lineEl, 'd', pathData);\n      this.renderer.setAttribute(lineEl, 'fill', 'none');\n      this.renderer.setAttribute(lineEl, 'stroke', config?.color || '#ccc');\n      this.renderer.setAttribute(lineEl, 'stroke-width', String(config?.strokeWidth || 0.5));\n      this.renderer.setAttribute(lineEl, 'opacity', String(config?.opacity || 0.5));\n\n      this.renderer.appendChild(group, lineEl);\n    });\n\n    // Optionally render graticule outline (sphere)\n    const outline = graticule.outline();\n    if (outline) {\n      const outlineEl = this.renderer.createElement('path', 'svg');\n      const outlineData = path(outline) || '';\n\n      this.renderer.setAttribute(outlineEl, 'd', outlineData);\n      this.renderer.setAttribute(outlineEl, 'fill', 'none');\n      this.renderer.setAttribute(outlineEl, 'stroke', config?.color || '#ccc');\n      this.renderer.setAttribute(outlineEl, 'stroke-width', String((config?.strokeWidth || 0.5) * 2));\n      this.renderer.setAttribute(outlineEl, 'opacity', String((config?.opacity || 0.5) * 0.3));\n\n      this.renderer.appendChild(group, outlineEl);\n    }\n  }\n\n  private renderGeographies(group: SVGGElement, geos: GeographyObject[], path: any): void {\n    geos.forEach(geo => {\n      const pathEl = this.renderer.createElement('path', 'svg');\n      const pathData = path(geo) || '';\n\n      // Determine fill color (choropleth takes priority)\n      const choroplethColor = this.getChoroplethColor(geo);\n      const baseFill = choroplethColor || this.fill();\n\n      this.renderer.setAttribute(pathEl, 'd', pathData);\n      this.renderer.setAttribute(pathEl, 'fill', baseFill);\n      this.renderer.setAttribute(pathEl, 'stroke', this.stroke());\n      this.renderer.setAttribute(pathEl, 'stroke-width', String(this.strokeWidth()));\n      this.renderer.setStyle(pathEl, 'cursor', 'pointer');\n\n      // Store original fill for hover restoration\n      pathEl.dataset['originalFill'] = baseFill;\n\n      this.addGeographyEventHandlers(pathEl, geo);\n      this.renderer.appendChild(group, pathEl);\n    });\n  }\n\n  private addGeographyEventHandlers(pathEl: SVGPathElement, geo: GeographyObject): void {\n    this.renderer.listen(pathEl, 'mouseenter', (e: MouseEvent) => {\n      if (this.hoverFill()) {\n        this.renderer.setAttribute(pathEl, 'fill', this.hoverFill()!);\n      }\n      const props = geo.properties || {};\n      this.countryHover.emit({ properties: props, id: geo.id, event: e });\n\n      if (this.showTooltip()) {\n        this.tooltipContent.set(String(props['name'] || 'Unknown'));\n        this.tooltipX.set(e.clientX + 10);\n        this.tooltipY.set(e.clientY + 10);\n        this.tooltipVisible.set(true);\n      }\n    });\n\n    this.renderer.listen(pathEl, 'mouseleave', () => {\n      // Restore original fill (could be choropleth color)\n      const originalFill = pathEl.dataset['originalFill'] || this.fill();\n      this.renderer.setAttribute(pathEl, 'fill', originalFill);\n      this.countryLeave.emit();\n      this.tooltipVisible.set(false);\n    });\n\n    this.renderer.listen(pathEl, 'click', (e: MouseEvent) => {\n      const props = geo.properties || {};\n      \n      // Zoom to country if enabled\n      if (this.zoomOnClick()) {\n        this.zoomToFeature(geo);\n      }\n      \n      this.countryClick.emit({ properties: props, id: geo.id, event: e });\n    });\n  }\n\n  private renderLines(group: SVGGElement, proj: any): void {\n    this.lines().forEach((line, index) => {\n      const curve = line.curve ?? 0;\n      const linePathData = PathHelperUtil.createCurvedLinePath(proj, line.from, line.to, curve);\n\n      if (!linePathData) return;\n\n      const linePath = this.renderer.createElement('path', 'svg');\n\n      this.renderer.setAttribute(linePath, 'd', linePathData);\n      this.renderer.setAttribute(linePath, 'fill', 'none');\n      this.renderer.setAttribute(linePath, 'stroke', line.color || this.lineColor());\n      this.renderer.setAttribute(linePath, 'stroke-width', String(line.strokeWidth || this.lineStrokeWidth()));\n      this.renderer.setStyle(linePath, 'cursor', 'pointer');\n\n      if (line.dashed) {\n        this.renderer.setAttribute(linePath, 'stroke-dasharray', '5,3');\n      }\n\n      // Line click handler\n      this.renderer.listen(linePath, 'click', (e: MouseEvent) => {\n        e.stopPropagation();\n        this.lineClick.emit({ line, index, event: e });\n      });\n\n      this.renderer.appendChild(group, linePath);\n\n      this.renderLineEndpoints(group, line, proj);\n    });\n  }\n\n  private renderLineEndpoints(group: SVGGElement, line: MapLine, proj: any): void {\n    const fromProj = proj(line.from);\n    const toProj = proj(line.to);\n\n    if (fromProj) {\n      const startDot = this.renderer.createElement('circle', 'svg');\n      this.renderer.setAttribute(startDot, 'cx', String(fromProj[0]));\n      this.renderer.setAttribute(startDot, 'cy', String(fromProj[1]));\n      this.renderer.setAttribute(startDot, 'r', '3');\n      this.renderer.setAttribute(startDot, 'fill', line.color || this.lineColor());\n      this.renderer.appendChild(group, startDot);\n    }\n\n    if (toProj) {\n      const endDot = this.renderer.createElement('circle', 'svg');\n      this.renderer.setAttribute(endDot, 'cx', String(toProj[0]));\n      this.renderer.setAttribute(endDot, 'cy', String(toProj[1]));\n      this.renderer.setAttribute(endDot, 'r', '3');\n      this.renderer.setAttribute(endDot, 'fill', line.color || this.lineColor());\n      this.renderer.appendChild(group, endDot);\n    }\n  }\n\n  private renderMarkers(group: SVGGElement, proj: any): void {\n    this.markers().forEach((marker, index) => {\n      const projected = proj(marker.coordinates);\n      if (!projected) return;\n\n      const [x, y] = projected;\n      const markerGroup = this.renderer.createElement('g', 'svg');\n      this.renderer.setAttribute(markerGroup, 'transform', `translate(${x}, ${y})`);\n      this.renderer.setStyle(markerGroup, 'cursor', 'pointer');\n\n      const shape = marker.shape || 'circle';\n      const size = marker.size || this.markerSize();\n      const color = marker.color || this.markerColor();\n      const strokeColor = marker.stroke || '#FFFFFF';\n\n      // Handle custom SVG URL (async loading)\n      if (shape === 'custom' && marker.customSvgUrl) {\n        MarkerRendererUtil.loadSvgMarker(this.renderer, marker.customSvgUrl, markerGroup, size, color, strokeColor, marker.customSvgSize);\n      } else {\n        const shapeEl = MarkerRendererUtil.createMarkerShape(\n          this.renderer,\n          shape,\n          size,\n          color,\n          strokeColor,\n          marker.customSvg,\n          marker.customSvgSize\n        );\n        this.renderer.appendChild(markerGroup, shapeEl);\n      }\n\n      // Marker click handler\n      this.renderer.listen(markerGroup, 'click', (e: MouseEvent) => {\n        e.stopPropagation();\n        this.markerClick.emit({ marker, index, event: e });\n      });\n\n      this.renderer.appendChild(group, markerGroup);\n    });\n  }\n\n  private renderAnnotations(group: SVGGElement, proj: any): void {\n    this.annotations().forEach(annotation => {\n      const projected = proj(annotation.coordinates);\n      if (!projected) return;\n\n      const [x, y] = projected;\n      const dx = annotation.dx || 30;\n      const dy = annotation.dy || -30;\n      const curve = annotation.curve || 0;\n\n      const annotationGroup = this.renderer.createElement('g', 'svg');\n\n      // Connector line\n      const endX = x + dx;\n      const endY = y + dy;\n\n      const pathEl = this.renderer.createElement('path', 'svg');\n      const pathD = PathHelperUtil.createAnnotationPath(x, y, dx, dy, curve);\n\n      this.renderer.setAttribute(pathEl, 'd', pathD);\n      this.renderer.setAttribute(pathEl, 'fill', 'none');\n      this.renderer.setAttribute(pathEl, 'stroke', annotation.color || '#FF5533');\n      this.renderer.setAttribute(pathEl, 'stroke-width', '1');\n      this.renderer.appendChild(annotationGroup, pathEl);\n\n      // Subject dot\n      const dot = this.renderer.createElement('circle', 'svg');\n      this.renderer.setAttribute(dot, 'cx', String(x));\n      this.renderer.setAttribute(dot, 'cy', String(y));\n      this.renderer.setAttribute(dot, 'r', '4');\n      this.renderer.setAttribute(dot, 'fill', annotation.color || '#FF5533');\n      this.renderer.appendChild(annotationGroup, dot);\n\n      // Text\n      const text = this.renderer.createElement('text', 'svg');\n      this.renderer.setAttribute(text, 'x', String(endX));\n      this.renderer.setAttribute(text, 'y', String(endY));\n      this.renderer.setAttribute(text, 'fill', annotation.color || '#000');\n      this.renderer.setAttribute(text, 'font-size', String(annotation.fontSize || 14));\n      this.renderer.setAttribute(text, 'font-weight', String(annotation.fontWeight || 'normal'));\n      this.renderer.setAttribute(text, 'text-anchor', dx > 0 ? 'start' : 'end');\n      this.renderer.setAttribute(text, 'dy', '-5');\n      text.textContent = annotation.text;\n      this.renderer.appendChild(annotationGroup, text);\n\n      this.renderer.appendChild(group, annotationGroup);\n    });\n  }\n\n  private renderLabels(group: SVGGElement, geos: GeographyObject[], proj: any): void {\n    if (!this.showLabels() || this._scale() < this.labelMinZoom()) return;\n\n    geos.forEach(geo => {\n      const properties = geo.properties || {};\n      const name = properties['name'] || properties['NAME'] || properties['name_en'];\n      \n      if (!name) return;\n\n      // Calculate centroid for label position\n      const centroid = geoCentroid(geo);\n      const projected = proj(centroid);\n      \n      if (!projected) return;\n\n      const [x, y] = projected;\n      const labelEl = this.renderer.createElement('text', 'svg');\n      \n      this.renderer.setAttribute(labelEl, 'x', String(x));\n      this.renderer.setAttribute(labelEl, 'y', String(y));\n      this.renderer.setAttribute(labelEl, 'text-anchor', 'middle');\n      this.renderer.setAttribute(labelEl, 'alignment-baseline', 'central');\n      this.renderer.setAttribute(labelEl, 'fill', this.labelColor());\n      this.renderer.setAttribute(labelEl, 'font-size', String(this.labelFontSize()));\n      this.renderer.setAttribute(labelEl, 'font-weight', String(this.labelFontWeight()));\n      this.renderer.setAttribute(labelEl, 'font-family', 'sans-serif');\n      this.renderer.setAttribute(labelEl, 'pointer-events', 'none');\n      this.renderer.setStyle(labelEl, 'user-select', 'none');\n      \n      // Add text shadow for better readability\n      this.renderer.setStyle(labelEl, 'text-shadow', '1px 1px 1px rgba(255,255,255,0.8), -1px -1px 1px rgba(255,255,255,0.8)');\n      \n      labelEl.textContent = String(name);\n      this.renderer.appendChild(group, labelEl);\n    });\n  }\n\n\n  private updateTransform(): void {\n    if (!this.zoomGroupElement) return;\n\n    const w = this.width();\n    const h = this.height();\n    const s = this._scale();\n    const tx = this._translateX();\n    const ty = this._translateY();\n\n    const transform = `translate(${w / 2 + tx}, ${h / 2 + ty}) scale(${s}) translate(${-w / 2}, ${-h / 2})`;\n    this.renderer.setAttribute(this.zoomGroupElement.nativeElement, 'transform', transform);\n  }\n\n  private setupZoomHandlers(): void {\n    const svg = this.svgElement?.nativeElement;\n    if (!svg) return;\n\n    // Wheel zoom\n    this.wheelHandler = (e: WheelEvent) => {\n      e.preventDefault();\n      const delta = -e.deltaY * 0.001;\n      const scaleFactor = 1 + delta;\n      const currentScale = this._scale();\n      const newScale = Math.max(this.minZoom(), Math.min(currentScale * scaleFactor, this.maxZoom()));\n\n      if (newScale !== currentScale) {\n        const rect = svg.getBoundingClientRect();\n        const mouseX = e.clientX - rect.left - rect.width / 2;\n        const mouseY = e.clientY - rect.top - rect.height / 2;\n        const scaleRatio = newScale / currentScale;\n        const svgScaleX = rect.width / this.width();\n        const svgScaleY = rect.height / this.height();\n\n        this._translateX.update(tx => tx - (mouseX / svgScaleX - tx) * (scaleRatio - 1));\n        this._translateY.update(ty => ty - (mouseY / svgScaleY - ty) * (scaleRatio - 1));\n        this._scale.set(newScale);\n        this.updateTransform();\n      }\n    };\n    svg.addEventListener('wheel', this.wheelHandler, { passive: false });\n\n    // Pan handlers\n    this.mouseDownHandler = (e: MouseEvent) => {\n      if (e.button !== 0) return;\n      this.isDragging = true;\n      this.dragStartX = e.clientX;\n      this.dragStartY = e.clientY;\n      this.lastTranslateX = this._translateX();\n      this.lastTranslateY = this._translateY();\n    };\n\n    this.mouseMoveHandler = (e: MouseEvent) => {\n      if (!this.isDragging) return;\n      const rect = svg.getBoundingClientRect();\n      const svgScaleX = rect.width / this.width();\n      const svgScaleY = rect.height / this.height();\n      const deltaX = (e.clientX - this.dragStartX) / svgScaleX;\n      const deltaY = (e.clientY - this.dragStartY) / svgScaleY;\n      this._translateX.set(this.lastTranslateX + deltaX);\n      this._translateY.set(this.lastTranslateY + deltaY);\n      this.updateTransform();\n    };\n\n    this.mouseUpHandler = () => {\n      this.isDragging = false;\n    };\n\n    svg.addEventListener('mousedown', this.mouseDownHandler);\n    window.addEventListener('mousemove', this.mouseMoveHandler);\n    window.addEventListener('mouseup', this.mouseUpHandler);\n  }\n\n  private cleanupZoomHandlers(): void {\n    const svg = this.svgElement?.nativeElement;\n    if (!svg) return;\n\n    if (this.wheelHandler) svg.removeEventListener('wheel', this.wheelHandler);\n    if (this.mouseDownHandler) svg.removeEventListener('mousedown', this.mouseDownHandler);\n    if (this.mouseMoveHandler) window.removeEventListener('mousemove', this.mouseMoveHandler);\n    if (this.mouseUpHandler) window.removeEventListener('mouseup', this.mouseUpHandler);\n  }\n\n  /**\n   * Get fill color for a geography based on choropleth data\n   */\n  private getChoroplethColor(geo: GeographyObject): string | null {\n    const data = this.choroplethData();\n    const config = this.choroplethConfig();\n    if (!data) return null;\n\n    const matchKey = config?.matchKey || 'name';\n    const geoKey = geo.properties?.[matchKey];\n    if (geoKey === undefined) return config?.nullColor || null;\n\n    const value = data[String(geoKey)];\n    if (value === undefined) return config?.nullColor || null;\n\n    // Get color scale\n    const colors = config?.colors || ['#E3F2FD', '#90CAF9', '#42A5F5', '#1E88E5', '#1565C0'];\n\n    // Calculate min/max from data\n    const values = Object.values(data);\n    const minValue = config?.minValue ?? Math.min(...values);\n    const maxValue = config?.maxValue ?? Math.max(...values);\n\n    if (maxValue === minValue) return colors[Math.floor(colors.length / 2)];\n\n    // Interpolate color\n    const normalized = (value - minValue) / (maxValue - minValue);\n    const colorIndex = Math.min(Math.floor(normalized * colors.length), colors.length - 1);\n\n    return colors[colorIndex];\n  }\n\n}\n","<div class=\"asm-map-container\" [style.max-width]=\"maxWidth() ? maxWidth() + 'px' : '100%'\">\n  <svg\n    #svgElement\n    [attr.viewBox]=\"viewBox()\"\n    class=\"asm-map-svg\"\n    (mousemove)=\"onMouseMove($event)\">\n    <g #zoomGroup class=\"asm-map-content\">\n      <!-- Geographies will be rendered here -->\n    </g>\n  </svg>\n\n  <!-- Zoom Controls -->\n  @if (zoomable() && showZoomControls()) {\n    <div class=\"asm-map-zoom-controls\">\n      <button class=\"asm-map-zoom-btn\" (click)=\"zoomIn()\" title=\"Zoom in\">+</button>\n      <button class=\"asm-map-zoom-btn\" (click)=\"zoomOut()\" title=\"Zoom out\">-</button>\n      <button class=\"asm-map-zoom-btn\" (click)=\"resetZoom()\" title=\"Reset\">&#8634;</button>\n    </div>\n  }\n\n  <!-- Tooltip -->\n  @if (showTooltip() && tooltipVisible()) {\n    <div\n      class=\"asm-map-tooltip\"\n      [style.left]=\"tooltipX() + 'px'\"\n      [style.top]=\"tooltipY() + 'px'\"\n      [style.background-color]=\"tooltipConfig()?.backgroundColor || '#fff'\"\n      [style.color]=\"tooltipConfig()?.textColor || '#333'\"\n      [style.border-color]=\"tooltipConfig()?.borderColor || '#ccc'\"\n      [style.border-radius]=\"(tooltipConfig()?.borderRadius || 4) + 'px'\">\n      <div class=\"asm-map-tooltip-title\" [style.color]=\"tooltipConfig()?.titleColor\">\n        {{ tooltipContent() }}\n      </div>\n    </div>\n  }\n</div>","import { InjectionToken, Signal } from '@angular/core';\nimport { GeoProjection, GeoPath } from 'd3-geo';\n\n// Shared map info that all components can access\n// Contains the projection, drawing functions, and size\nexport interface MapContext {\n  // Function that converts lat/lng to screen coordinates\n  projection: GeoProjection;\n\n  // Function that converts geographic shapes to SVG paths\n  path: GeoPath;\n\n  // How wide the map is\n  width: number;\n\n  // How tall the map is\n  height: number;\n}\n\n// Angular dependency injection token for sharing map data between components\n// Uses Angular signals so components update when the map changes\nexport const MAP_CONTEXT = new InjectionToken<Signal<MapContext>>(\n  'MAP_CONTEXT',\n  {\n    providedIn: null,\n    factory: () => {\n      throw new Error(\n        'MAP_CONTEXT token must be provided by ComposableMapComponent. ' +\n        'Ensure this component is wrapped in an asm-composable-map component.'\n      );\n    }\n  }\n);\n","import {\n  Component,\n  ChangeDetectionStrategy,\n  computed,\n  input,\n  inject,\n  signal,\n  ViewEncapsulation\n} from '@angular/core';\nimport { geoPath } from 'd3-geo';\nimport { ProjectionType, ProjectionConfig } from '../../models';\nimport { ProjectionService } from '../../services';\nimport { MAP_CONTEXT, MapContext } from '../../tokens/map-context.token';\n\n/**\n * Root map container component - creates an SVG with D3 projection context\n *\n * This is the main container for all map visualizations. It sets up the SVG canvas\n * and provides projection context to child directives.\n *\n * The map is fully responsive by default and will scale to fit its container width\n * while maintaining aspect ratio. Use maxWidth to constrain the maximum size.\n *\n * @example\n * Basic world map (responsive):\n * ```html\n * <asm-composable-map [width]=\"800\" [height]=\"400\">\n *   <ng-container [asmGeographies]=\"worldDataUrl\"></ng-container>\n * </asm-composable-map>\n * ```\n *\n * @example\n * Map with max width constraint:\n * ```html\n * <asm-composable-map\n *   [width]=\"960\"\n *   [height]=\"600\"\n *   [maxWidth]=\"960\"\n *   projection=\"geoMercator\">\n *   <!-- Map content -->\n * </asm-composable-map>\n * ```\n */\n@Component({\n  selector: 'asm-composable-map',\n  standalone: true,\n  template: `\n    <svg\n      [attr.viewBox]=\"viewBox()\"\n      [style.max-width]=\"maxWidth() ? maxWidth() + 'px' : '100%'\"\n      class=\"asm-map\">\n      <ng-content></ng-content>\n    </svg>\n  `,\n  styles: [`\n    :host {\n      display: block;\n      width: 100%;\n    }\n\n    .asm-map {\n      width: 100%;\n      height: auto;\n      display: block;\n      margin:auto;\n    }\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  providers: [\n    {\n      provide: MAP_CONTEXT,\n      useFactory: () => {\n        const component = inject(ComposableMapComponent);\n        return component.mapContext;\n      }\n    }\n  ]\n})\nexport class ComposableMapComponent {\n  private readonly projectionService = inject(ProjectionService);\n\n  constructor() {\n    // Component initialized\n  }\n\n  /**\n   * Map width in pixels\n   */\n  width = input<number>(800);\n\n  /**\n   * Map height in pixels\n   */\n  height = input<number>(400);\n\n  /**\n   * Maximum width in pixels (optional, for constraining responsive size)\n   */\n  maxWidth = input<number | null>(null);\n\n  /**\n   * Projection type (default: geoEqualEarth)\n   */\n  projection = input<ProjectionType>('geoEqualEarth');\n\n  /**\n   * Projection configuration options\n   */\n  projectionConfig = input<ProjectionConfig>({});\n\n  /**\n   * Map context signal - recomputes when inputs change\n   */\n  readonly mapContext = computed<MapContext>(() => {\n    const proj = this.projectionService.createProjection(\n      this.projection(),\n      this.projectionConfig(),\n      this.width(),\n      this.height()\n    );\n\n    return {\n      projection: proj,\n      path: geoPath().projection(proj),\n      width: this.width(),\n      height: this.height()\n    };\n  });\n\n  /**\n   * SVG viewBox attribute\n   */\n  protected readonly viewBox = computed(() =>\n    `0 0 ${this.width()} ${this.height()}`\n  );\n}\n","import {\n  Component,\n  input,\n  computed,\n  ChangeDetectionStrategy\n} from '@angular/core';\nimport { NgStyle } from '@angular/common';\n\n/**\n * Tooltip data structure for displaying geography information\n */\nexport interface TooltipData {\n  name?: string;\n  [key: string]: unknown;\n}\n\n/**\n * Simple tooltip component for displaying geography information on hover\n *\n * @example\n * Basic usage:\n * ```html\n * <asm-tooltip\n *   [visible]=\"tooltipVisible()\"\n *   [x]=\"tooltipX()\"\n *   [y]=\"tooltipY()\"\n *   [data]=\"tooltipData()\">\n * </asm-tooltip>\n * ```\n *\n * @example\n * Customized styling:\n * ```html\n * <asm-tooltip\n *   [visible]=\"tooltipVisible()\"\n *   [x]=\"tooltipX()\"\n *   [y]=\"tooltipY()\"\n *   [data]=\"tooltipData()\"\n *   backgroundColor=\"#1D3557\"\n *   textColor=\"#FFFFFF\"\n *   titleColor=\"#A8DADC\"\n *   borderColor=\"#457B9D\">\n * </asm-tooltip>\n * ```\n */\n@Component({\n  selector: 'asm-tooltip',\n  standalone: true,\n  imports: [NgStyle],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  template: `\n    @if (visible()) {\n      <div\n        class=\"asm-tooltip\"\n        [ngStyle]=\"tooltipStyles()\">\n        @if (data()?.name) {\n          <div class=\"asm-tooltip-title\" [ngStyle]=\"titleStyles()\">{{ data()?.name }}</div>\n        }\n        @for (item of displayItems(); track item.key) {\n          <div class=\"asm-tooltip-row\">\n            <span class=\"asm-tooltip-label\" [ngStyle]=\"labelStyles()\">{{ item.label }}:</span>\n            <span class=\"asm-tooltip-value\">{{ item.value }}</span>\n          </div>\n        }\n      </div>\n    }\n  `,\n  styles: [`\n    .asm-tooltip {\n      position: fixed;\n      pointer-events: none;\n      z-index: 1000;\n      max-width: 250px;\n    }\n\n    .asm-tooltip-title {\n      font-weight: 600;\n      margin-bottom: 4px;\n      padding-bottom: 4px;\n      border-bottom: 1px solid;\n    }\n\n    .asm-tooltip-row {\n      display: flex;\n      justify-content: space-between;\n      gap: 12px;\n      padding: 2px 0;\n    }\n\n    .asm-tooltip-label {\n      opacity: 0.8;\n    }\n\n    .asm-tooltip-value {\n      font-weight: 500;\n    }\n  `]\n})\nexport class TooltipComponent {\n  /**\n   * Whether the tooltip is visible\n   */\n  visible = input<boolean>(false);\n\n  /**\n   * X position (in pixels from viewport left)\n   */\n  x = input<number>(0);\n\n  /**\n   * Y position (in pixels from viewport top)\n   */\n  y = input<number>(0);\n\n  /**\n   * Tooltip data to display\n   */\n  data = input<TooltipData | null>(null);\n\n  /**\n   * Offset from cursor (x direction)\n   */\n  offsetX = input<number>(10);\n\n  /**\n   * Offset from cursor (y direction)\n   */\n  offsetY = input<number>(10);\n\n  /**\n   * Keys to exclude from display\n   */\n  excludeKeys = input<string[]>(['name']);\n\n  /**\n   * Custom key labels mapping\n   */\n  keyLabels = input<Record<string, string>>({});\n\n  /**\n   * Background color\n   */\n  backgroundColor = input<string>('#ffffff');\n\n  /**\n   * Text color\n   */\n  textColor = input<string>('#333333');\n\n  /**\n   * Title text color (defaults to textColor if not set)\n   */\n  titleColor = input<string | null>(null);\n\n  /**\n   * Label text color (defaults to textColor with opacity if not set)\n   */\n  labelColor = input<string | null>(null);\n\n  /**\n   * Border color\n   */\n  borderColor = input<string>('#cccccc');\n\n  /**\n   * Border radius in pixels\n   */\n  borderRadius = input<number>(4);\n\n  /**\n   * Font size in pixels\n   */\n  fontSize = input<number>(13);\n\n  /**\n   * Padding in pixels\n   */\n  padding = input<number>(12);\n\n  /**\n   * Box shadow\n   */\n  boxShadow = input<string>('0 2px 8px rgba(0, 0, 0, 0.15)');\n\n  /**\n   * Computed tooltip container styles\n   */\n  protected readonly tooltipStyles = computed(() => ({\n    left: `${this.x() + this.offsetX()}px`,\n    top: `${this.y() + this.offsetY()}px`,\n    backgroundColor: this.backgroundColor(),\n    color: this.textColor(),\n    border: `1px solid ${this.borderColor()}`,\n    borderRadius: `${this.borderRadius()}px`,\n    fontSize: `${this.fontSize()}px`,\n    padding: `${this.padding()}px`,\n    boxShadow: this.boxShadow()\n  }));\n\n  /**\n   * Computed title styles\n   */\n  protected readonly titleStyles = computed(() => ({\n    color: this.titleColor() || this.textColor(),\n    borderBottomColor: this.borderColor()\n  }));\n\n  /**\n   * Computed label styles\n   */\n  protected readonly labelStyles = computed(() => ({\n    color: this.labelColor() || undefined\n  }));\n\n  /**\n   * Computed display items from data\n   */\n  protected readonly displayItems = computed(() => {\n    const currentData = this.data();\n    if (!currentData) return [];\n\n    const excluded = new Set(this.excludeKeys());\n    const labels = this.keyLabels();\n\n    return Object.entries(currentData)\n      .filter(([key, value]) => !excluded.has(key) && value !== null && value !== undefined)\n      .map(([key, value]) => ({\n        key,\n        label: labels[key] || this.formatKey(key),\n        value: this.formatValue(value)\n      }));\n  });\n\n  private formatKey(key: string): string {\n    return key\n      .replace(/_/g, ' ')\n      .replace(/([A-Z])/g, ' $1')\n      .replace(/^./, str => str.toUpperCase())\n      .trim();\n  }\n\n  private formatValue(value: unknown): string {\n    if (typeof value === 'number') {\n      return value.toLocaleString();\n    }\n    return String(value);\n  }\n}\n","import {\n  Directive,\n  input,\n  output,\n  signal,\n  computed,\n  inject,\n  ElementRef,\n  Renderer2,\n  AfterViewInit,\n  OnDestroy\n} from '@angular/core';\nimport { MAP_CONTEXT } from '../../tokens/map-context.token';\n\n/**\n * Zoom state interface\n */\nexport interface ZoomState {\n  /** Current zoom scale */\n  scale: number;\n  /** X translation */\n  translateX: number;\n  /** Y translation */\n  translateY: number;\n}\n\n/**\n * Zoom event emitted on zoom/pan changes\n */\nexport interface ZoomableEvent extends ZoomState {\n  /** Original DOM event that triggered the zoom */\n  sourceEvent?: Event;\n}\n\n/**\n * ZoomableGroupDirective - Adds zoom and pan capabilities to map content\n *\n * Apply to an svg:g element to enable zoom and pan functionality.\n * Supports mouse wheel zoom, drag panning, and touch gestures.\n *\n * @example\n * Basic usage:\n * ```html\n * <asm-composable-map [width]=\"800\" [height]=\"400\">\n *   <svg:g asmZoomableGroup #zoomGroup=\"asmZoomableGroup\" [minZoom]=\"1\" [maxZoom]=\"8\">\n *     <ng-container [asmGeographies]=\"worldData\"></ng-container>\n *   </svg:g>\n * </asm-composable-map>\n * ```\n *\n * @example\n * With zoom controls:\n * ```html\n * <svg:g asmZoomableGroup #zoomGroup=\"asmZoomableGroup\" [minZoom]=\"1\" [maxZoom]=\"8\">\n *   <ng-container [asmGeographies]=\"worldData\"></ng-container>\n * </svg:g>\n *\n * <asm-zoom-controls\n *   (zoomIn)=\"zoomGroup.zoomIn()\"\n *   (zoomOut)=\"zoomGroup.zoomOut()\"\n *   (reset)=\"zoomGroup.resetZoom()\">\n * </asm-zoom-controls>\n * ```\n */\n@Directive({\n  selector: '[asmZoomableGroup]',\n  exportAs: 'asmZoomableGroup',\n  standalone: true\n})\nexport class ZoomableGroupDirective implements AfterViewInit, OnDestroy {\n  private readonly elementRef = inject(ElementRef);\n  private readonly renderer = inject(Renderer2);\n  private readonly mapContext = inject(MAP_CONTEXT);\n\n  private isDragging = false;\n  private dragStartX = 0;\n  private dragStartY = 0;\n  private lastTranslateX = 0;\n  private lastTranslateY = 0;\n\n  // Bound event handlers for cleanup\n  private boundHandleWheel: (e: WheelEvent) => void;\n  private boundHandleMouseDown: (e: MouseEvent) => void;\n  private boundHandleMouseMove: (e: MouseEvent) => void;\n  private boundHandleMouseUp: (e: MouseEvent) => void;\n  private boundHandleTouchStart: (e: TouchEvent) => void;\n  private boundHandleTouchMove: (e: TouchEvent) => void;\n  private boundHandleTouchEnd: (e: TouchEvent) => void;\n\n  /**\n   * Minimum zoom level\n   */\n  minZoom = input<number>(1);\n\n  /**\n   * Maximum zoom level\n   */\n  maxZoom = input<number>(8);\n\n  /**\n   * Initial zoom level\n   */\n  initialZoom = input<number>(1);\n\n  /**\n   * Initial center coordinates [x, y] in pixels (relative to map center)\n   */\n  center = input<[number, number]>([0, 0]);\n\n  /**\n   * Zoom sensitivity for mouse wheel (higher = faster zoom)\n   */\n  zoomSensitivity = input<number>(0.001);\n\n  /**\n   * Whether zoom on scroll is enabled\n   */\n  enableWheelZoom = input<boolean>(true);\n\n  /**\n   * Whether pan on drag is enabled\n   */\n  enablePan = input<boolean>(true);\n\n  /**\n   * Whether to enable touch gestures\n   */\n  enableTouch = input<boolean>(true);\n\n  /**\n   * Emits when zoom or pan changes\n   */\n  zoomChange = output<ZoomableEvent>();\n\n  /**\n   * Emits when zoom starts (mouse down or touch start)\n   */\n  zoomStart = output<ZoomableEvent>();\n\n  /**\n   * Emits when zoom ends (mouse up or touch end)\n   */\n  zoomEnd = output<ZoomableEvent>();\n\n  // Internal zoom state\n  private readonly _scale = signal(1);\n  private readonly _translateX = signal(0);\n  private readonly _translateY = signal(0);\n\n  /**\n   * Current zoom scale (read-only)\n   */\n  readonly scale = this._scale.asReadonly();\n\n  /**\n   * Current X translation (read-only)\n   */\n  readonly translateX = this._translateX.asReadonly();\n\n  /**\n   * Current Y translation (read-only)\n   */\n  readonly translateY = this._translateY.asReadonly();\n\n  /**\n   * Computed SVG transform string\n   */\n  readonly transform = computed(() => {\n    const ctx = this.mapContext();\n    const centerX = ctx.width / 2;\n    const centerY = ctx.height / 2;\n    const s = this._scale();\n    const tx = this._translateX();\n    const ty = this._translateY();\n\n    return `translate(${centerX + tx}, ${centerY + ty}) scale(${s}) translate(${-centerX}, ${-centerY})`;\n  });\n\n  constructor() {\n    // Bind event handlers\n    this.boundHandleWheel = this.handleWheel.bind(this);\n    this.boundHandleMouseDown = this.handleMouseDown.bind(this);\n    this.boundHandleMouseMove = this.handleMouseMove.bind(this);\n    this.boundHandleMouseUp = this.handleMouseUp.bind(this);\n    this.boundHandleTouchStart = this.handleTouchStart.bind(this);\n    this.boundHandleTouchMove = this.handleTouchMove.bind(this);\n    this.boundHandleTouchEnd = this.handleTouchEnd.bind(this);\n  }\n\n  ngAfterViewInit(): void {\n    // Set initial zoom\n    this._scale.set(this.initialZoom());\n\n    // Set initial center offset\n    const [cx, cy] = this.center();\n    this._translateX.set(cx);\n    this._translateY.set(cy);\n\n    // Apply initial transform\n    this.updateTransform();\n\n    // Set cursor style\n    this.renderer.setStyle(this.elementRef.nativeElement, 'cursor', 'grab');\n\n    // Get the SVG element (parent of our g element)\n    const svg = this.getSvgElement();\n    if (!svg) return;\n\n    // Add event listeners\n    if (this.enableWheelZoom()) {\n      svg.addEventListener('wheel', this.boundHandleWheel, { passive: false });\n    }\n\n    if (this.enablePan()) {\n      svg.addEventListener('mousedown', this.boundHandleMouseDown);\n      window.addEventListener('mousemove', this.boundHandleMouseMove);\n      window.addEventListener('mouseup', this.boundHandleMouseUp);\n    }\n\n    if (this.enableTouch()) {\n      svg.addEventListener('touchstart', this.boundHandleTouchStart, { passive: false });\n      window.addEventListener('touchmove', this.boundHandleTouchMove, { passive: false });\n      window.addEventListener('touchend', this.boundHandleTouchEnd);\n    }\n  }\n\n  ngOnDestroy(): void {\n    const svg = this.getSvgElement();\n    if (!svg) return;\n\n    svg.removeEventListener('wheel', this.boundHandleWheel);\n    svg.removeEventListener('mousedown', this.boundHandleMouseDown);\n    window.removeEventListener('mousemove', this.boundHandleMouseMove);\n    window.removeEventListener('mouseup', this.boundHandleMouseUp);\n    svg.removeEventListener('touchstart', this.boundHandleTouchStart);\n    window.removeEventListener('touchmove', this.boundHandleTouchMove);\n    window.removeEventListener('touchend', this.boundHandleTouchEnd);\n  }\n\n  /**\n   * Programmatically zoom in by a step\n   */\n  zoomIn(step: number = 1.5): void {\n    const newScale = Math.min(this._scale() * step, this.maxZoom());\n    this._scale.set(newScale);\n    this.updateTransform();\n    this.emitZoomChange();\n  }\n\n  /**\n   * Programmatically zoom out by a step\n   */\n  zoomOut(step: number = 1.5): void {\n    const newScale = Math.max(this._scale() / step, this.minZoom());\n    this._scale.set(newScale);\n    this.updateTransform();\n    this.emitZoomChange();\n  }\n\n  /**\n   * Reset zoom to initial state\n   */\n  resetZoom(): void {\n    this._scale.set(this.initialZoom());\n    const [cx, cy] = this.center();\n    this._translateX.set(cx);\n    this._translateY.set(cy);\n    this.updateTransform();\n    this.emitZoomChange();\n  }\n\n  /**\n   * Set zoom to a specific level\n   */\n  setZoom(scale: number, translateX?: number, translateY?: number): void {\n    this._scale.set(Math.max(this.minZoom(), Math.min(scale, this.maxZoom())));\n    if (translateX !== undefined) {\n      this._translateX.set(translateX);\n    }\n    if (translateY !== undefined) {\n      this._translateY.set(translateY);\n    }\n    this.updateTransform();\n    this.emitZoomChange();\n  }\n\n  private updateTransform(): void {\n    const transformValue = this.transform();\n    this.renderer.setAttribute(this.elementRef.nativeElement, 'transform', transformValue);\n  }\n\n  private getSvgElement(): SVGSVGElement | null {\n    let element = this.elementRef.nativeElement;\n    while (element && element.tagName !== 'svg') {\n      element = element.parentElement;\n    }\n    return element as SVGSVGElement;\n  }\n\n  private handleWheel(event: WheelEvent): void {\n    if (!this.enableWheelZoom()) return;\n\n    event.preventDefault();\n\n    const sensitivity = this.zoomSensitivity();\n    const delta = -event.deltaY * sensitivity;\n    const scaleFactor = 1 + delta;\n\n    const currentScale = this._scale();\n    let newScale = currentScale * scaleFactor;\n    newScale = Math.max(this.minZoom(), Math.min(newScale, this.maxZoom()));\n\n    if (newScale !== currentScale) {\n      // Zoom toward mouse position\n      const svg = this.getSvgElement();\n      if (svg) {\n        const rect = svg.getBoundingClientRect();\n        const ctx = this.mapContext();\n\n        // Mouse position relative to SVG center\n        const mouseX = event.clientX - rect.left - rect.width / 2;\n        const mouseY = event.clientY - rect.top - rect.height / 2;\n\n        // Adjust translation to zoom toward mouse\n        const scaleRatio = newScale / currentScale;\n        const tx = this._translateX();\n        const ty = this._translateY();\n\n        // Scale the SVG dimensions to get proper ratios\n        const svgScaleX = rect.width / ctx.width;\n        const svgScaleY = rect.height / ctx.height;\n\n        this._translateX.set(tx - (mouseX / svgScaleX - tx) * (scaleRatio - 1));\n        this._translateY.set(ty - (mouseY / svgScaleY - ty) * (scaleRatio - 1));\n      }\n\n      this._scale.set(newScale);\n      this.updateTransform();\n      this.emitZoomChange(event);\n    }\n  }\n\n  private handleMouseDown(event: MouseEvent): void {\n    if (!this.enablePan() || event.button !== 0) return;\n\n    this.isDragging = true;\n    this.dragStartX = event.clientX;\n    this.dragStartY = event.clientY;\n    this.lastTranslateX = this._translateX();\n    this.lastTranslateY = this._translateY();\n\n    this.renderer.setStyle(this.elementRef.nativeElement, 'cursor', 'grabbing');\n    this.emitZoomStart(event);\n  }\n\n  private handleMouseMove(event: MouseEvent): void {\n    if (!this.isDragging) return;\n\n    const svg = this.getSvgElement();\n    if (!svg) return;\n\n    const rect = svg.getBoundingClientRect();\n    const ctx = this.mapContext();\n\n    // Calculate delta in SVG coordinate space\n    const svgScaleX = rect.width / ctx.width;\n    const svgScaleY = rect.height / ctx.height;\n\n    const deltaX = (event.clientX - this.dragStartX) / svgScaleX;\n    const deltaY = (event.clientY - this.dragStartY) / svgScaleY;\n\n    this._translateX.set(this.lastTranslateX + deltaX);\n    this._translateY.set(this.lastTranslateY + deltaY);\n\n    this.updateTransform();\n    this.emitZoomChange(event);\n  }\n\n  private handleMouseUp(event: MouseEvent): void {\n    if (this.isDragging) {\n      this.isDragging = false;\n      this.renderer.setStyle(this.elementRef.nativeElement, 'cursor', 'grab');\n      this.emitZoomEnd(event);\n    }\n  }\n\n  // Touch handling for pinch zoom\n  private lastTouchDistance = 0;\n  private lastTouchCenter = { x: 0, y: 0 };\n\n  private handleTouchStart(event: TouchEvent): void {\n    if (!this.enableTouch()) return;\n\n    if (event.touches.length === 1) {\n      // Single touch - pan\n      event.preventDefault();\n      this.isDragging = true;\n      this.dragStartX = event.touches[0].clientX;\n      this.dragStartY = event.touches[0].clientY;\n      this.lastTranslateX = this._translateX();\n      this.lastTranslateY = this._translateY();\n      this.emitZoomStart(event);\n    } else if (event.touches.length === 2) {\n      // Two touches - pinch zoom\n      event.preventDefault();\n      this.lastTouchDistance = this.getTouchDistance(event.touches);\n      this.lastTouchCenter = this.getTouchCenter(event.touches);\n    }\n  }\n\n  private handleTouchMove(event: TouchEvent): void {\n    if (!this.enableTouch()) return;\n\n    if (event.touches.length === 1 && this.isDragging) {\n      event.preventDefault();\n\n      const svg = this.getSvgElement();\n      if (!svg) return;\n\n      const rect = svg.getBoundingClientRect();\n      const ctx = this.mapContext();\n\n      const svgScaleX = rect.width / ctx.width;\n      const svgScaleY = rect.height / ctx.height;\n\n      const deltaX = (event.touches[0].clientX - this.dragStartX) / svgScaleX;\n      const deltaY = (event.touches[0].clientY - this.dragStartY) / svgScaleY;\n\n      this._translateX.set(this.lastTranslateX + deltaX);\n      this._translateY.set(this.lastTranslateY + deltaY);\n\n      this.updateTransform();\n      this.emitZoomChange(event);\n    } else if (event.touches.length === 2) {\n      event.preventDefault();\n\n      const distance = this.getTouchDistance(event.touches);\n      const scaleFactor = distance / this.lastTouchDistance;\n\n      const currentScale = this._scale();\n      let newScale = currentScale * scaleFactor;\n      newScale = Math.max(this.minZoom(), Math.min(newScale, this.maxZoom()));\n\n      this._scale.set(newScale);\n      this.lastTouchDistance = distance;\n\n      this.updateTransform();\n      this.emitZoomChange(event);\n    }\n  }\n\n  private handleTouchEnd(event: TouchEvent): void {\n    if (this.isDragging && event.touches.length === 0) {\n      this.isDragging = false;\n      this.emitZoomEnd(event);\n    }\n  }\n\n  private getTouchDistance(touches: TouchList): number {\n    const dx = touches[0].clientX - touches[1].clientX;\n    const dy = touches[0].clientY - touches[1].clientY;\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n\n  private getTouchCenter(touches: TouchList): { x: number; y: number } {\n    return {\n      x: (touches[0].clientX + touches[1].clientX) / 2,\n      y: (touches[0].clientY + touches[1].clientY) / 2\n    };\n  }\n\n  private emitZoomChange(sourceEvent?: Event): void {\n    this.zoomChange.emit({\n      scale: this._scale(),\n      translateX: this._translateX(),\n      translateY: this._translateY(),\n      sourceEvent\n    });\n  }\n\n  private emitZoomStart(sourceEvent?: Event): void {\n    this.zoomStart.emit({\n      scale: this._scale(),\n      translateX: this._translateX(),\n      translateY: this._translateY(),\n      sourceEvent\n    });\n  }\n\n  private emitZoomEnd(sourceEvent?: Event): void {\n    this.zoomEnd.emit({\n      scale: this._scale(),\n      translateX: this._translateX(),\n      translateY: this._translateY(),\n      sourceEvent\n    });\n  }\n}\n\n// Re-export as component name for backwards compatibility\nexport { ZoomableGroupDirective as ZoomableGroupComponent };\n","import {\n  Component,\n  ChangeDetectionStrategy,\n  input,\n  output,\n  ViewEncapsulation\n} from '@angular/core';\nimport { NgStyle } from '@angular/common';\n\n/**\n * Zoom control action type\n */\nexport type ZoomControlAction = 'zoomIn' | 'zoomOut' | 'reset';\n\n/**\n * ZoomControlsComponent - Provides zoom buttons for map navigation\n *\n * A simple set of zoom controls that can be positioned over the map.\n * Connect to ZoomableGroupComponent methods for zoom functionality.\n *\n * @example\n * Basic usage with ZoomableGroup:\n * ```html\n * <div style=\"position: relative;\">\n *   <asm-composable-map>\n *     <asm-zoomable-group #zoomGroup>\n *       <ng-container [asmGeographies]=\"worldData\"></ng-container>\n *     </asm-zoomable-group>\n *   </asm-composable-map>\n *\n *   <asm-zoom-controls\n *     (zoomIn)=\"zoomGroup.zoomIn()\"\n *     (zoomOut)=\"zoomGroup.zoomOut()\"\n *     (reset)=\"zoomGroup.resetZoom()\">\n *   </asm-zoom-controls>\n * </div>\n * ```\n */\n@Component({\n  selector: 'asm-zoom-controls',\n  standalone: true,\n  imports: [NgStyle],\n  template: `\n    <div class=\"asm-zoom-controls\" [ngStyle]=\"containerStyles()\">\n      <button\n        class=\"asm-zoom-btn\"\n        [ngStyle]=\"buttonStyles()\"\n        (click)=\"onZoomIn()\"\n        title=\"Zoom in\"\n        aria-label=\"Zoom in\">\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"currentColor\">\n          <path d=\"M8 3v10M3 8h10\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\"/>\n        </svg>\n      </button>\n      <button\n        class=\"asm-zoom-btn\"\n        [ngStyle]=\"buttonStyles()\"\n        (click)=\"onZoomOut()\"\n        title=\"Zoom out\"\n        aria-label=\"Zoom out\">\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"currentColor\">\n          <path d=\"M3 8h10\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\"/>\n        </svg>\n      </button>\n      @if (showReset()) {\n        <button\n          class=\"asm-zoom-btn\"\n          [ngStyle]=\"buttonStyles()\"\n          (click)=\"onReset()\"\n          title=\"Reset zoom\"\n          aria-label=\"Reset zoom\">\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"currentColor\">\n            <path d=\"M8 2v3M8 11v3M2 8h3M11 8h3M4 4l2 2M10 10l2 2M4 12l2-2M10 4l2 2\" stroke=\"currentColor\" stroke-width=\"1.5\" fill=\"none\"/>\n          </svg>\n        </button>\n      }\n    </div>\n  `,\n  styles: [`\n    .asm-zoom-controls {\n      display: flex;\n      flex-direction: column;\n      gap: 4px;\n    }\n\n    .asm-zoom-btn {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      cursor: pointer;\n      border: none;\n      transition: background-color 0.2s, transform 0.1s;\n    }\n\n    .asm-zoom-btn:hover {\n      filter: brightness(0.95);\n    }\n\n    .asm-zoom-btn:active {\n      transform: scale(0.95);\n    }\n\n    .asm-zoom-btn:focus {\n      outline: 2px solid #4A90E2;\n      outline-offset: 2px;\n    }\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None\n})\nexport class ZoomControlsComponent {\n  /**\n   * Position from top edge\n   */\n  top = input<string>('10px');\n\n  /**\n   * Position from right edge\n   */\n  right = input<string>('10px');\n\n  /**\n   * Position from bottom edge (overrides top if set)\n   */\n  bottom = input<string | null>(null);\n\n  /**\n   * Position from left edge (overrides right if set)\n   */\n  left = input<string | null>(null);\n\n  /**\n   * Button size in pixels\n   */\n  buttonSize = input<number>(32);\n\n  /**\n   * Button background color\n   */\n  backgroundColor = input<string>('#ffffff');\n\n  /**\n   * Button text/icon color\n   */\n  color = input<string>('#333333');\n\n  /**\n   * Button border radius\n   */\n  borderRadius = input<number>(4);\n\n  /**\n   * Box shadow\n   */\n  boxShadow = input<string>('0 2px 4px rgba(0,0,0,0.2)');\n\n  /**\n   * Whether to show the reset button\n   */\n  showReset = input<boolean>(true);\n\n  /**\n   * Emitted when zoom in is clicked\n   */\n  zoomIn = output<void>();\n\n  /**\n   * Emitted when zoom out is clicked\n   */\n  zoomOut = output<void>();\n\n  /**\n   * Emitted when reset is clicked\n   */\n  reset = output<void>();\n\n  /**\n   * Computed container styles\n   */\n  protected containerStyles = () => ({\n    position: 'absolute' as const,\n    top: this.bottom() ? 'auto' : this.top(),\n    right: this.left() ? 'auto' : this.right(),\n    bottom: this.bottom() || 'auto',\n    left: this.left() || 'auto',\n    zIndex: '10'\n  });\n\n  /**\n   * Computed button styles\n   */\n  protected buttonStyles = () => ({\n    width: `${this.buttonSize()}px`,\n    height: `${this.buttonSize()}px`,\n    backgroundColor: this.backgroundColor(),\n    color: this.color(),\n    borderRadius: `${this.borderRadius()}px`,\n    boxShadow: this.boxShadow()\n  });\n\n  protected onZoomIn(): void {\n    this.zoomIn.emit();\n  }\n\n  protected onZoomOut(): void {\n    this.zoomOut.emit();\n  }\n\n  protected onReset(): void {\n    this.reset.emit();\n  }\n}\n","import {\n  Directive,\n  input,\n  output,\n  inject,\n  effect,\n  computed,\n  Renderer2,\n  ElementRef\n} from '@angular/core';\nimport { toSignal, toObservable } from '@angular/core/rxjs-interop';\nimport { switchMap, map, catchError, of } from 'rxjs';\nimport {\n  GeographyInput,\n  GeographyObject,\n  ParseGeographiesFn,\n  GeographyEvent\n} from '../models';\nimport { GeographyLoaderService } from '../services';\nimport { MAP_CONTEXT } from '../tokens/map-context.token';\nimport { Continent, filterByContinents } from '../utils';\n\n/**\n * Directive for loading and rendering geographic features (countries, regions, etc.)\n *\n * Loads TopoJSON or GeoJSON data and renders it as SVG paths.\n * Must be used on ng-container inside an SVG element.\n *\n * @example\n * Basic usage with TopoJSON URL:\n * ```html\n * <asm-composable-map>\n *   <ng-container\n *     [asmGeographies]=\"'https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json'\"\n *     fill=\"#ECECEC\"\n *     stroke=\"#D6D6D6\">\n *   </ng-container>\n * </asm-composable-map>\n * ```\n *\n * @example\n * Filter by continent:\n * ```html\n * <ng-container\n *   [asmGeographies]=\"worldDataUrl\"\n *   [continents]=\"'Europe'\">\n * </ng-container>\n * ```\n *\n * @example\n * Multiple continents:\n * ```html\n * <ng-container\n *   [asmGeographies]=\"worldDataUrl\"\n *   [continents]=\"['Asia', 'Europe']\">\n * </ng-container>\n * ```\n */\n@Directive({\n  selector: '[asmGeographies]',\n  standalone: true\n})\nexport class GeographiesDirective {\n  private readonly geographyLoader = inject(GeographyLoaderService);\n  private readonly mapContext = inject(MAP_CONTEXT);\n  private readonly elementRef = inject(ElementRef);\n  private readonly renderer = inject(Renderer2);\n\n  /**\n   * Geography data (URL string, TopoJSON, or GeoJSON)\n   */\n  geography = input.required<GeographyInput>({ alias: 'asmGeographies' });\n\n  /**\n   * Optional custom parsing function\n   */\n  parseGeographies = input<ParseGeographiesFn>();\n\n  /**\n   * Filter by continent(s) - can be a single continent or array of continents\n   * Supported: 'Africa', 'Asia', 'Europe', 'North America', 'South America', 'Oceania', 'Antarctica'\n   */\n  continents = input<Continent | Continent[] | null>(null);\n\n  /**\n   * Default fill color for all geographies\n   */\n  fill = input<string>('#ECECEC');\n\n  /**\n   * Default stroke color for all geographies\n   */\n  stroke = input<string>('#D6D6D6');\n\n  /**\n   * Default stroke width for all geographies\n   */\n  strokeWidth = input<number>(0.5);\n\n  /**\n   * Hover fill color (optional)\n   */\n  hoverFill = input<string | null>(null);\n\n  /**\n   * Pressed/active fill color (optional)\n   */\n  pressedFill = input<string | null>(null);\n\n  /**\n   * Emitted when mouse enters a geography\n   */\n  geographyHover = output<GeographyEvent>();\n\n  /**\n   * Emitted when mouse leaves a geography\n   */\n  geographyLeave = output<GeographyEvent>();\n\n  /**\n   * Emitted when a geography is clicked\n   */\n  geographyClick = output<GeographyEvent>();\n\n  /**\n   * Raw loaded geographies (before filtering)\n   */\n  private readonly rawGeographies = toSignal(\n    toObservable(this.geography).pipe(\n      switchMap(geo =>\n        this.geographyLoader.load(geo).pipe(\n          map(data => data.features),\n          catchError(err => {\n            console.error('Error loading geographies:', err);\n            return of([] as GeographyObject[]);\n          })\n        )\n      )\n    ),\n    { initialValue: [] as GeographyObject[] }\n  );\n\n  /**\n   * Loaded and processed geographies signal (reactive to continents changes)\n   */\n  protected readonly geographies = computed(() => {\n    const features = this.rawGeographies();\n    return this.processGeographies(features);\n  });\n\n  constructor() {\n    // Effect to render paths when geographies load\n    effect(() => {\n      const geos = this.geographies();\n      if (geos.length > 0) {\n        this.renderGeographies(geos);\n      }\n    });\n  }\n\n  private renderGeographies(geos: GeographyObject[]): void {\n    const hostElement = this.elementRef.nativeElement;\n    const parentElement = this.renderer.parentNode(hostElement);\n    const context = this.mapContext();\n\n    // Clear any existing paths we created\n    const existingPaths = parentElement.querySelectorAll('path[data-asm-geo]');\n    existingPaths.forEach((path: Element) => this.renderer.removeChild(parentElement, path));\n\n    const baseFill = this.fill();\n    const hoverFillColor = this.hoverFill();\n    const pressedFillColor = this.pressedFill();\n\n    // Create and append path elements directly to parent (SVG)\n    geos.forEach(geo => {\n      const path = this.renderer.createElement('path', 'svg');\n      const pathData = context.path(geo) || '';\n\n      this.renderer.setAttribute(path, 'd', pathData);\n      this.renderer.setAttribute(path, 'fill', baseFill);\n      this.renderer.setAttribute(path, 'stroke', this.stroke());\n      this.renderer.setAttribute(path, 'stroke-width', String(this.strokeWidth()));\n      this.renderer.setAttribute(path, 'data-asm-geo', 'true');\n      this.renderer.setStyle(path, 'cursor', 'pointer');\n\n      // Add event listeners\n      this.renderer.listen(path, 'mouseenter', (event: MouseEvent) => {\n        if (hoverFillColor) {\n          this.renderer.setAttribute(path, 'fill', hoverFillColor);\n        }\n        this.geographyHover.emit({ event, geography: geo });\n      });\n\n      this.renderer.listen(path, 'mouseleave', (event: MouseEvent) => {\n        this.renderer.setAttribute(path, 'fill', baseFill);\n        this.geographyLeave.emit({ event, geography: geo });\n      });\n\n      this.renderer.listen(path, 'mousedown', () => {\n        if (pressedFillColor) {\n          this.renderer.setAttribute(path, 'fill', pressedFillColor);\n        }\n      });\n\n      this.renderer.listen(path, 'mouseup', () => {\n        if (hoverFillColor) {\n          this.renderer.setAttribute(path, 'fill', hoverFillColor);\n        } else {\n          this.renderer.setAttribute(path, 'fill', baseFill);\n        }\n      });\n\n      this.renderer.listen(path, 'click', (event: MouseEvent) => {\n        this.geographyClick.emit({ event, geography: geo });\n      });\n\n      // Insert after the host element\n      const nextSibling = this.renderer.nextSibling(hostElement);\n      if (nextSibling) {\n        this.renderer.insertBefore(parentElement, path, nextSibling);\n      } else {\n        this.renderer.appendChild(parentElement, path);\n      }\n    });\n  }\n\n  private processGeographies(features: GeographyObject[]): GeographyObject[] {\n    let processed = features;\n\n    // Apply continent filtering if specified\n    const continentFilter = this.continents();\n    if (continentFilter) {\n      processed = filterByContinents(processed, continentFilter);\n    }\n\n    // Apply custom parsing function if provided\n    const parser = this.parseGeographies();\n    if (parser) {\n      processed = parser(processed);\n    }\n\n    return processed;\n  }\n}\n","import {\n  Directive,\n  input,\n  inject,\n  effect,\n  Renderer2,\n  ElementRef\n} from '@angular/core';\nimport { MAP_CONTEXT } from '../tokens/map-context.token';\nimport { AnnotationCoordinates, ConnectorStyle, AnnotationSubject } from '../models';\n\n/**\n * Directive for adding annotations (labels with connector lines) to map locations\n *\n * Renders a point marker, connector line, and text label at geographic coordinates.\n * Must be used on ng-container inside an SVG element.\n *\n * @example\n * Basic annotation:\n * ```html\n * <asm-composable-map>\n *   <ng-container\n *     [asmAnnotation]=\"[-74.006, 40.7128]\"\n *     text=\"New York\">\n *   </ng-container>\n * </asm-composable-map>\n * ```\n *\n * @example\n * Customized annotation with curved connector:\n * ```html\n * <ng-container\n *   [asmAnnotation]=\"[139.6917, 35.6895]\"\n *   text=\"Tokyo\"\n *   [dx]=\"50\"\n *   [dy]=\"-40\"\n *   [curve]=\"0.5\"\n *   [fontSize]=\"16\"\n *   connectorStroke=\"#FF5533\"\n *   subjectFill=\"#FF5533\">\n * </ng-container>\n * ```\n */\n@Directive({\n  selector: '[asmAnnotation]',\n  standalone: true\n})\nexport class AnnotationDirective {\n  private readonly mapContext = inject(MAP_CONTEXT);\n  private readonly elementRef = inject(ElementRef);\n  private readonly renderer = inject(Renderer2);\n  private annotationGroup: SVGGElement | null = null;\n\n  /**\n   * Geographic coordinates [longitude, latitude]\n   */\n  coordinates = input.required<AnnotationCoordinates>({ alias: 'asmAnnotation' });\n\n  /**\n   * Annotation text\n   */\n  text = input<string>('');\n\n  /**\n   * Horizontal offset from coordinate (pixels)\n   */\n  dx = input<number>(30);\n\n  /**\n   * Vertical offset from coordinate (pixels)\n   */\n  dy = input<number>(-30);\n\n  /**\n   * Connector curve amount (0 = straight, 1 = curved)\n   */\n  curve = input<number>(0);\n\n  /**\n   * Subject (point) radius\n   */\n  subjectRadius = input<number>(4);\n\n  /**\n   * Subject fill color\n   */\n  subjectFill = input<string>('#FF5533');\n\n  /**\n   * Subject stroke color\n   */\n  subjectStroke = input<string>('#FFFFFF');\n\n  /**\n   * Subject stroke width\n   */\n  subjectStrokeWidth = input<number>(1);\n\n  /**\n   * Connector stroke color\n   */\n  connectorStroke = input<string>('#FF5533');\n\n  /**\n   * Connector stroke width\n   */\n  connectorStrokeWidth = input<number>(1);\n\n  /**\n   * Text fill color\n   */\n  textFill = input<string>('#000000');\n\n  /**\n   * Text font size\n   */\n  fontSize = input<number>(14);\n\n  /**\n   * Text font weight\n   */\n  fontWeight = input<string | number>('normal');\n\n  /**\n   * Text anchor (alignment)\n   */\n  textAnchor = input<'start' | 'middle' | 'end'>('start');\n\n  constructor() {\n    effect(() => {\n      this.renderAnnotation();\n    });\n  }\n\n  private renderAnnotation(): void {\n    const context = this.mapContext();\n    const coords = this.coordinates();\n    const hostElement = this.elementRef.nativeElement;\n    const parentElement = this.renderer.parentNode(hostElement);\n\n    // Project coordinates to pixel space\n    const projected = context.projection(coords);\n    if (!projected) {\n      console.warn('Failed to project annotation coordinates:', coords);\n      return;\n    }\n\n    const [x, y] = projected;\n    const endX = x + this.dx();\n    const endY = y + this.dy();\n\n    // Remove existing annotation group if any\n    if (this.annotationGroup) {\n      this.renderer.removeChild(parentElement, this.annotationGroup);\n    }\n\n    // Create annotation group\n    this.annotationGroup = this.renderer.createElement('g', 'svg');\n    this.renderer.setAttribute(this.annotationGroup, 'data-asm-annotation', 'true');\n\n    // Create connector line (curved if curve > 0)\n    const connector = this.renderer.createElement('path', 'svg');\n    const pathData = this.curve() > 0\n      ? this.createCurvedPath(x, y, endX, endY, this.curve())\n      : `M${x},${y} L${endX},${endY}`;\n\n    this.renderer.setAttribute(connector, 'd', pathData);\n    this.renderer.setAttribute(connector, 'stroke', this.connectorStroke());\n    this.renderer.setAttribute(connector, 'stroke-width', String(this.connectorStrokeWidth()));\n    this.renderer.setAttribute(connector, 'fill', 'none');\n    this.renderer.appendChild(this.annotationGroup, connector);\n\n    // Create subject (point marker)\n    const subject = this.renderer.createElement('circle', 'svg');\n    this.renderer.setAttribute(subject, 'cx', String(x));\n    this.renderer.setAttribute(subject, 'cy', String(y));\n    this.renderer.setAttribute(subject, 'r', String(this.subjectRadius()));\n    this.renderer.setAttribute(subject, 'fill', this.subjectFill());\n    this.renderer.setAttribute(subject, 'stroke', this.subjectStroke());\n    this.renderer.setAttribute(subject, 'stroke-width', String(this.subjectStrokeWidth()));\n    this.renderer.appendChild(this.annotationGroup, subject);\n\n    // Create text label\n    if (this.text()) {\n      const textElement = this.renderer.createElement('text', 'svg');\n      this.renderer.setAttribute(textElement, 'x', String(endX));\n      this.renderer.setAttribute(textElement, 'y', String(endY));\n      this.renderer.setAttribute(textElement, 'fill', this.textFill());\n      this.renderer.setAttribute(textElement, 'font-size', String(this.fontSize()));\n      this.renderer.setAttribute(textElement, 'font-weight', String(this.fontWeight()));\n      this.renderer.setAttribute(textElement, 'text-anchor', this.textAnchor());\n      this.renderer.setAttribute(textElement, 'dy', '0.35em');\n\n      const textNode = this.renderer.createText(this.text());\n      this.renderer.appendChild(textElement, textNode);\n      this.renderer.appendChild(this.annotationGroup, textElement);\n    }\n\n    // Insert annotation group into SVG\n    const nextSibling = this.renderer.nextSibling(hostElement);\n    if (nextSibling) {\n      this.renderer.insertBefore(parentElement, this.annotationGroup, nextSibling);\n    } else {\n      this.renderer.appendChild(parentElement, this.annotationGroup);\n    }\n  }\n\n  private createCurvedPath(x1: number, y1: number, x2: number, y2: number, curve: number): string {\n    const dx = x2 - x1;\n    const dy = y2 - y1;\n\n    // Control point for quadratic curve\n    const controlX = x1 + dx / 2;\n    const controlY = y1 + dy / 2 - (dx * curve * 0.5);\n\n    return `M${x1},${y1} Q${controlX},${controlY} ${x2},${y2}`;\n  }\n}\n","import {\n  Directive,\n  input,\n  inject,\n  effect,\n  Renderer2,\n  ElementRef,\n  contentChild,\n  TemplateRef,\n  ViewContainerRef,\n  EmbeddedViewRef\n} from '@angular/core';\nimport { MAP_CONTEXT } from '../tokens/map-context.token';\nimport { MarkerCoordinates } from '../models';\n\n// Directive to put markers at specific places on the map\n// You can use simple circles or create your own custom marker shapes\n// Must be used inside the map's SVG\n//\n// Simple example: <ng-container [asmMarker]=\"[-74.006, 40.7128]\"></ng-container>\n// Custom shape: Add an <ng-template> with your own SVG inside\n@Directive({\n  selector: '[asmMarker]',\n  standalone: true\n})\nexport class MarkerDirective {\n  private readonly mapContext = inject(MAP_CONTEXT);\n  private readonly elementRef = inject(ElementRef);\n  private readonly renderer = inject(Renderer2);\n  private readonly viewContainerRef = inject(ViewContainerRef);\n  private markerGroup: SVGGElement | null = null;\n  private embeddedView: EmbeddedViewRef<any> | null = null;\n\n  // Where to place the marker on the map\n  coordinates = input.required<MarkerCoordinates>({ alias: 'asmMarker' });\n\n  // How big the circle should be (if using default marker)\n  radius = input<number>(5);\n\n  // What color to fill the marker with\n  fill = input<string>('#FF5533');\n\n  // Color for the marker's border\n  stroke = input<string>('#FFFFFF');\n\n  // How thick the border should be\n  strokeWidth = input<number>(1);\n\n  // How see-through the marker should be (0-1)\n  opacity = input<number>(1);\n\n  // Custom SVG content to use instead of a circle\n  customTemplate = contentChild(TemplateRef);\n\n  constructor() {\n    effect(() => {\n      this.renderMarker();\n    });\n  }\n\n  private renderMarker(): void {\n    const context = this.mapContext();\n    const coords = this.coordinates();\n    const hostElement = this.elementRef.nativeElement;\n    const parentElement = this.renderer.parentNode(hostElement);\n\n    // Convert lat/lng to screen pixels\n    const projected = context.projection(coords);\n    if (!projected) {\n      console.warn('Failed to project marker coordinates:', coords);\n      return;\n    }\n\n    const [x, y] = projected;\n\n    // Clean up any old marker that was already drawn\n    if (this.markerGroup) {\n      this.renderer.removeChild(parentElement, this.markerGroup);\n      if (this.embeddedView) {\n        this.embeddedView.destroy();\n        this.embeddedView = null;\n      }\n    }\n\n    // Make a group to hold all the marker elements\n    this.markerGroup = this.renderer.createElement('g', 'svg');\n    this.renderer.setAttribute(this.markerGroup, 'data-asm-marker', 'true');\n    this.renderer.setAttribute(this.markerGroup, 'transform', `translate(${x}, ${y})`);\n\n    const template = this.customTemplate();\n    if (template) {\n      // Use the custom SVG template\n      this.embeddedView = this.viewContainerRef.createEmbeddedView(template);\n      this.embeddedView.detectChanges();\n\n      // Put the custom elements into our marker group\n      this.embeddedView.rootNodes.forEach(node => {\n        this.renderer.appendChild(this.markerGroup, node);\n      });\n    } else {\n      // Just draw a simple circle\n      const circle = this.renderer.createElement('circle', 'svg');\n      this.renderer.setAttribute(circle, 'r', String(this.radius()));\n      this.renderer.setAttribute(circle, 'fill', this.fill());\n      this.renderer.setAttribute(circle, 'stroke', this.stroke());\n      this.renderer.setAttribute(circle, 'stroke-width', String(this.strokeWidth()));\n      this.renderer.setAttribute(circle, 'opacity', String(this.opacity()));\n      this.renderer.appendChild(this.markerGroup, circle);\n    }\n\n    // Add the marker to the map\n    const nextSibling = this.renderer.nextSibling(hostElement);\n    if (nextSibling) {\n      this.renderer.insertBefore(parentElement, this.markerGroup, nextSibling);\n    } else {\n      this.renderer.appendChild(parentElement, this.markerGroup);\n    }\n  }\n}\n","// Everything you can import and use from ng-simple-maps\n//\n// Simple, beautiful SVG maps for Angular\n\n// The main map component (this is what most people will use)\nexport * from './lib/components/map/map.component';\nexport * from './lib/components/map/map.types';\n\n// Advanced components for when you need more control\nexport * from './lib/components/composable-map/composable-map.component';\nexport * from './lib/components/tooltip/tooltip.component';\nexport * from './lib/components/zoomable-group/zoomable-group.component';\nexport * from './lib/components/zoom-controls/zoom-controls.component';\nexport * from './lib/directives/geographies.directive';\nexport * from './lib/directives/annotation.directive';\nexport * from './lib/directives/marker.directive';\n\n// Types, utilities, and services (mostly for TypeScript users)\nexport * from './lib/models';\nexport * from './lib/utils';\nexport * from './lib/services';\nexport * from './lib/tokens/map-context.token';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["map"],"mappings":"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AE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ;AACnF,IAAA,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ;AACnF,IAAA,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ;AACnF,IAAA,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ;AACnF,IAAA,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ;AACnF,IAAA,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ;AACnF,IAAA,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ;AACnF,IAAA,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ;;AAGlE,IAAA,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM;AACzE,IAAA,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM;AACzE,IAAA,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM;AACzE,IAAA,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM;AACzE,IAAA,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM;AACzE,IAAA,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM;AACzE,IAAA,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM;AACzE,IAAA,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM;AACzE,IAAA,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM;IACzE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM;;AAG3C,IAAA,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ;AACnF,IAAA,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ;AACnF,IAAA,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ;AACnF,IAAA,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ;AACnF,IAAA,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ;AACnF,IAAA,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KA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"}